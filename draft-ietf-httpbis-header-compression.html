<!DOCTYPE html>
<html lang="en" class="Internet-Draft">
<head>
<meta charset="utf-8">
<meta content="Common,Latin" name="scripts">
<meta content="initial-scale=1.0" name="viewport">
<title>HPACK: Header Compression for HTTP/2</title>
<meta content="Roberto Peon" name="author">
<meta content="Hervé Ruellan" name="author">
<meta content="
       
                This specification defines HPACK, a compression format for
                efficiently representing HTTP header fields, to be used in
                HTTP/2.
       
    " name="description">
<meta content="xml2rfc 3.12.3" name="generator">
<meta content="HTTP" name="keyword">
<meta content="Header" name="keyword">
<meta content="draft-ietf-httpbis-header-compression-latest" name="ietf.draft">
<!-- Generator version information:
  xml2rfc 3.12.3
    Python 3.9.7
    appdirs 1.4.4
    ConfigArgParse 1.3
    google-i18n-address 2.5.0
    html5lib 1.1
    intervaltree 3.1.0
    Jinja2 2.11.3
    kitchen 1.2.6
    lxml 4.6.5
    MarkupSafe 2.0.1
    pycountry 20.7.3
    pyflakes 2.3.1
    PyYAML 5.4.1
    requests 2.26.0
    setuptools 52.0.0
    six 1.16.0
-->
<link href="draft-ietf-httpbis-header-compression.xml" rel="alternate" type="application/rfc+xml">
<link href="#copyright" rel="license">
<style type="text/css">@font-face {
  font-family: 'Lora';
  font-style: italic;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Italic'), local('Lora-Italic'), url('https://martinthomson.github.io/rfc-css/fonts/lora-italic-cyrillic-ext.woff2') format('woff2');
  unicode-range: U+0460-052F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F;
}
@font-face {
  font-family: 'Lora';
  font-style: italic;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Italic'), local('Lora-Italic'), url('https://martinthomson.github.io/rfc-css/fonts/lora-italic-cyrillic-ext.woff2') format('woff2');
  unicode-range: U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
}
@font-face {
  font-family: 'Lora';
  font-style: italic;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Italic'), local('Lora-Italic'), url('https://martinthomson.github.io/rfc-css/fonts/lora-italic-vietnamese.woff2') format('woff2');
  unicode-range: U+0102-0103, U+0110-0111, U+1EA0-1EF9, U+20AB;
}
@font-face {
  font-family: 'Lora';
  font-style: italic;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Italic'), local('Lora-Italic'), url('https://martinthomson.github.io/rfc-css/fonts/lora-italic-latin-ext.woff2') format('woff2');
  unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
}

@font-face {
  font-family: 'Lora';
  font-style: italic;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Italic'), local('Lora-Italic'), url('https://martinthomson.github.io/rfc-css/fonts/lora-italic-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Regular'), local('Lora-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/lora-regular-cyrillic-ext.woff2') format('woff2');
  unicode-range: U+0460-052F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Regular'), local('Lora-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/lora-regular-cyrillic.woff2') format('woff2');
  unicode-range: U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Regular'), local('Lora-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/lora-regular-vietnamese.woff2') format('woff2');
  unicode-range: U+0102-0103, U+0110-0111, U+1EA0-1EF9, U+20AB;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Regular'), local('Lora-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/lora-regular-latin-ext.woff2') format('woff2');
  unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Regular'), local('Lora-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/lora-regular-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}

@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 700;
  font-display: swap;
  src: local('Lora Bold'), local('Lora-Bold'), url('https://martinthomson.github.io/rfc-css/fonts/lora-bold-cyrillic-ext.woff2') format('woff2');
  unicode-range: U+0460-052F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 700;
  font-display: swap;
  src: local('Lora Bold'), local('Lora-Bold'), url('https://martinthomson.github.io/rfc-css/fonts/lora-bold-cyrillic.woff2') format('woff2');
  unicode-range: U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 700;
  font-display: swap;
  src: local('Lora Bold'), local('Lora-Bold'), url('https://martinthomson.github.io/rfc-css/fonts/lora-bold-vietnamese.woff2') format('woff2');
  unicode-range: U+0102-0103, U+0110-0111, U+1EA0-1EF9, U+20AB;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 700;
  font-display: swap;
  src: local('Lora Bold'), local('Lora-Bold'), url('https://martinthomson.github.io/rfc-css/fonts/lora-bold-latin-ext.woff2') format('woff2');
  unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 700;
  font-display: swap;
  src: local('Lora Bold'), local('Lora-Bold'), url('https://martinthomson.github.io/rfc-css/fonts/lora-bold-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}

@font-face {
  font-family: 'Cabin Condensed';
  font-style: normal;
  font-weight: 600;
  font-display: swap;
  src: local('Cabin Condensed SemiBold'), local('CabinCondensed-SemiBold'), url('https://martinthomson.github.io/rfc-css/fonts/cabincondensed-semibold-vietnamese.woff2') format('woff2');
  unicode-range: U+0102-0103, U+0110-0111, U+1EA0-1EF9, U+20AB;
}
@font-face {
  font-family: 'Cabin Condensed';
  font-style: normal;
  font-weight: 600;
  font-display: swap;
  src: local('Cabin Condensed SemiBold'), local('CabinCondensed-SemiBold'), url('https://martinthomson.github.io/rfc-css/fonts/cabincondensed-semibold-latin-ext.woff2') format('woff2');
  unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
}
@font-face {
  font-family: 'Cabin Condensed';
  font-style: normal;
  font-weight: 600;
  font-display: swap;
  src: local('Cabin Condensed SemiBold'), local('CabinCondensed-SemiBold'), url('https://martinthomson.github.io/rfc-css/fonts/cabincondensed-semibold-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}

@font-face {
  font-family: 'Oxygen Mono';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Oxygen Mono'), local('OxygenMono-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/oxygenmono-regular-latin-ext.woff2') format('woff2');
  unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
}
@font-face {
  font-family: 'Oxygen Mono';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Oxygen Mono'), local('OxygenMono-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/oxygenmono-regular-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}

:root {
  color-scheme: light dark;
  --background-color: #fff;
  --text-color: #222;
  --title-color: #191919;
  --link-color: #2a6496;
  --highlight-color: #f9f9f9;
  --line-color: #eee;
  --pilcrow-weak: #ddd;
  --pilcrow-strong: #bbb;
  --small-font-size: 14.5px;
  --font-mono: 'Oxygen Mono', monospace;
  scrollbar-color: #bbb #eee;
}
body {
  max-width: 600px;
  margin: 75px auto;
  padding: 0 5px;
  color: var(--text-color);
  background-color: var(--background-color);
  font: 16px/22px "Lora", serif;
  scroll-behavior: smooth;
}

.ears {
  display: none;
}

/* headings */
h1, h2, h3, h4, h5, h6 {
  font-family: "Cabin Condensed", sans-serif;
  font-weight: 600;
  margin: 0.8em 0 0.3em;
  font-size-adjust: 0.5;
  color: var(--title-color);
}
h1#title {
  font-size: 32px;
  line-height: 40px;
  clear: both;
}
h1#title, h1#rfcnum {
  margin: 1.5em 0 0.2em;
}
h1#rfcnum + h1#title {
  margin: 0.2em 0;
}

h1, h2, h3 {
  font-size: 22px;
  line-height: 27px;
}
h4, h5, h6 {
  font-size: 20px;
  line-height: 24px;
}

/* general structure */
.author {
  padding-bottom: 0.3em;
}
#abstract+p {
  font-size: 18px;
  line-height: 24px;
}
#abstract+p code, #abstract+p samp, #abstract+p tt {
  font-size: 16px;
  line-height: 0;
}

p {
  padding: 0;
  margin: 0.5em 0;
  text-align: left;
}
div {
  margin: 0;
}
.alignRight.art-text {
  background-color: var(--highlight-color);
  border: 1px solid var(--line-color);
  border-radius: 3px;
  padding: 0.5em 1em 0;
  margin-bottom: 0.5em;
}
.alignRight.art-text pre {
  padding: 0;
  width: auto;
}
.alignRight {
  margin: 1em 0;
}
.alignRight > *:first-child {
  border: none;
  margin: 0;
  float: right;
  clear: both;
}
.alignRight > *:nth-child(2) {
  clear: both;
  display: block;
  border: none;
}
svg {
  display: block;
}
/* font-family isn't space-separated, but =~ will have to do */
svg[font-family~="monospace" i], svg [font-family~="monospace" i] {
  font-family: var(--font-mono);
}
.alignCenter.art-text {
  background-color: var(--highlight-color);
  border: 1px solid var(--line-color);
  border-radius: 3px;
  padding: 0.5em 1em 0;
  margin-bottom: 0.5em;
}
.alignCenter.art-text pre {
  padding: 0;
  width: auto;
}
.alignCenter {
  margin: 1em 0;
}
.alignCenter > *:first-child {
  border: none;
  /* this isn't optimal, but it's an existence proof.  PrinceXML doesn't
     support flexbox yet.
  */
  display: table;
  margin: 0 auto;
}

/* lists */
ol, ul {
  padding: 0;
  margin: 0 0 0.5em 2em;
}
ol ol, ul ul, ol ul, ul ol {
  margin-left: 1em;
}
li {
  margin: 0 0 0.25em 0;
}
.ulCompact li {
  margin: 0;
}
ul.empty, .ulEmpty {
  list-style-type: none;
}
ul.empty li, .ulEmpty li {
  margin-top: 0.5em;
}
ul.compact, .ulCompact,
ol.compact, .olCompact {
  line-height: 100%;
  margin: 0 0 0 2em;
}

/* definition lists */
dl {
}
dl > dt {
  float: left;
  margin-right: 1em;
}
dl > dd {
  margin-bottom: .8em;
  min-height: 1.3em;
}
dl.compact > dd, .dlCompact > dd {
  margin-bottom: 0em;
}
dl > dd > dl {
  margin-top: 0.5em;
  margin-bottom: 0em;
}
dd.break {
  display: none;
}

/* links */
a, a[href].selfRef:hover {
  text-decoration: none;
}
a[href].selfRef {
  color: var(--text-color);
}
a[href] {
  color: var(--link-color);
}
a[href]:hover {
  text-decoration: underline;
}
a[href].selfRef:hover {
  background-color: var(--highlight-color);
}
a.xref {
  white-space: nowrap;
}

/* Figures */
tt, code, pre {
  background-color: var(--highlight-color);
  font: 14px/22px var(--font-mono);
}
tt, code {
  /* changing the font for inline elements leads to different ascender
     and descender heights; as we want to retain baseline alignment,
     remove leading to avoid altering the final height of lines */
  line-height: 0;
}
pre {
  border: 1px solid var(--line-color);
  font-size: 13.5px;
  line-height: 16px;
  letter-spacing: -0.2px;
  margin: 5px;
  padding: 5px;
}
img {
  max-width: 100%;
}
figure {
  margin: 0.5em 0;
  padding: 0;
}
figure blockquote {
  margin: 0.8em 0.4em 0.4em;
}
figcaption, caption {
  font-style: italic;
  margin: 0.5em 1.5em;
  text-align: left;
}
@media screen {
  pre, svg {
    display: inline-block;
    overflow-x: auto;
  }
  pre {
    max-width: 100%;
    width: calc(100% - 22px - 1em);
  }
  svg {
    max-width: calc(100% - 22px - 1em);
  }
  figure pre {
    display: block;
    width: calc(100% - 25px);
  }
  pre + .pilcrow, svg + .pilcrow {
    display: inline-block;
    vertical-align: text-bottom;
    padding-bottom: 8px;
  }
}

/* aside, blockquote */
aside, blockquote {
  margin-left: 0;
  padding: 0 2em;
  font-style: italic;
}
blockquote {
  margin: 1em 0;
}
cite {
  display: block;
  text-align: right;
  font-style: italic;
}

/* tables */
table {
  max-width: 100%;
  margin: 0 0 1em;
  border-collapse: collapse;
}
table.right {
  margin-left: auto;
}
table.center {
  margin-left: auto;
  margin-right: auto;
}
table.left {
  margin-right: auto;
}
thead, tbody {
  border: 1px solid var(--line-color);
}
th, td {
  text-align: left;
  vertical-align: top;
  padding: 5px 10px;
}
th {
  background-color: var(--line-color);
}
tr:nth-child(2n) > td {
  background-color: var(--background-color);
}
tr:nth-child(2n+1) > td {
  background-color: var(--highlight-color);
}
thead+tbody > tr:nth-child(2n) > td {
  background-color: var(--highlight-color);
}
thead+tbody > tr:nth-child(2n+1) > td {
  background-color: var(--background-color);
}
table caption {
  margin: 0;
  padding: 3px 0 3px 1em;
}
table p {
  margin: 0;
}

/* pilcrow */
a.pilcrow {
  margin-left: 3px;
  opacity: 0.2;
  user-select: none;
}
a.pilcrow[href] { color: var(--pilcrow-weak); }
a.pilcrow[href]:hover { text-decoration: none; }
@media not print {
  :hover > a.pilcrow {
    opacity: 1;
  }
  a.pilcrow[href]:hover {
    color: var(--pilcrow-strong);
    background-color: transparent;
  }
}
@media print {
  a.pilcrow {
    display: none;
  }
}

/* misc */
hr {
  border: 0;
  border-top: 1px solid var(--line-color);
}
.bcp14 {
  font-variant: small-caps;
}

.role {
  font-variant: all-small-caps;
}

/* info block */
#identifiers {
  margin: 0;
  font-size: var(--small-font-size);
  line-height: 18px;
  --identifier-width: 8em;
}
#identifiers dt {
  width: var(--identifier-width);
  margin: 0;
  clear: left;
  float: left;
  text-align: right;
}
#identifiers dd {
  margin: 0 0 0 calc(1em + var(--identifier-width));
  min-width: 5em;
}
#identifiers .authors .author {
  display: inline-block;
  margin-right: 1.5em;
}
#identifiers .authors .org {
  font-style: italic;
}

/* The prepared/rendered info at the very bottom of the page */
.docInfo {
  color: #999;
  font-size: 0.9em;
  font-style: italic;
  margin-top: 2em;
}
.docInfo .prepared {
  float: left;
}
.docInfo .prepared {
  float: right;
}

/* table of contents */
#toc {
  padding: 0.75em 0 2em 0;
  margin-bottom: 1em;
}
#toc nav ul {
  margin: 0 0.5em 0 0;
  padding: 0;
  list-style: none;
}
#toc nav li {
  line-height: 1.3em;
  margin: 0.75em 0;
  padding-left: 1.2em;
  text-indent: -1.2em;
}
#toc a.xref {
  white-space: normal;
}
/* references */
.references dt {
  text-align: right;
  font-weight: bold;
  min-width: 7em;
}
.references dd {
  margin-left: 8em;
  overflow: auto;
}

.refInstance {
  margin-bottom: 1.25em;
}

.references .ascii {
  margin-bottom: 0.25em;
}

/* index */
#rfc\.index\.index + ul {
  margin-left: 0;
}

/* authors */
address.vcard {
  font-style: normal;
  margin: 1em 0;
}
address.vcard .nameRole {
  font-weight: 700;
  margin-left: 0;
}
address.vcard .label {
  margin: 0.5em 0;
}
address.vcard .type {
  display: none;
}
.alternative-contact {
  margin: 1.5em 0 1em;
}
hr.addr {
  border-top: 1px dashed;
  margin: 0;
  color: #ddd;
  max-width: calc(100% - 16px);
}
@media (min-width: 500px) {
  #authors-addresses > section {
    column-count: 2;
    column-gap: 20px;
  }
  #authors-addresses > section > h2 {
    column-span: all;
  }
  /* hack for break-inside: avoid-column */
  #authors-addresses address {
    display: inline-block;
    break-inside: avoid-column;
  }
}

.rfcEditorRemove p:first-of-type {
  font-style: italic;
}
.cref {
  background-color: rgba(249, 232, 105, 0.3);
  padding: 2px 4px;
}
.crefSource {
  font-style: italic;
}
/* alternative layout for smaller screens */
@media screen and (max-width: 929px) {
  #toc {
    position: fixed;
    z-index: 2;
    top: 0;
    right: 0;
    padding: 0;
    margin: 0;
    border-bottom: 1px solid #ccc;
    opacity: 0.6;
  }
  #toc.active {
      opacity: 1;
  }
  #toc h2 {
    margin: 0;
    padding: 2px 0 2px 6px;
    padding-right: 1em;
    font-size: 18px;
    line-height: 24px;
    min-width: 190px;
    text-align: right;
    background-color: #444;
    color: white;
    cursor: pointer;
  }
  #toc h2::before { /* css hamburger */
    float: right;
    position: relative;
    width: 1em;
    height: 1px;
    left: -164px;
    margin: 8px 0 0 0;
    background: white none repeat scroll 0 0;
    box-shadow: 0 4px 0 0 white, 0 8px 0 0 white;
    content: "";
  }
  #toc nav {
    display: none;
    background-color: var(--background-color);
    padding: 0.5em 1em 1em;
    overflow: auto;
    overscroll-behavior: contain;
    height: calc(100vh - 48px);
    border-left: 1px solid #ddd;
  }
  #toc.active nav {
    display: block;
  }
  /* Make the collapsed ToC header render white on gray also when it's a link */
  #toc h2 a,
  #toc h2 a:link,
  #toc h2 a:focus,
  #toc h2 a:hover,
  #toc a.toplink,
  #toc a.toplink:hover {
    color: white;
    background-color: #444;
    text-decoration: none;
  }
  #toc a.toplink {
    margin-top: 2px;
  }
}

/* alternative layout for wide screens */
@media screen and (min-width: 930px) {
  body {
    padding-right: 360px;
    padding-right: calc(min(180px + 20%, 500px));
  }
  #toc {
    position: fixed;
    bottom: 0;
    right: 0;
    right: calc(50vw - 480px);
    width: 312px;
    margin: 0;
    padding: 0;
    z-index: 1;
  }
  #toc h2 {
    margin: 0;
    padding: 0.25em 1em 1em 0;
  }
  #toc nav {
    display: block;
    height: calc(90vh - 84px);
    bottom: 0;
    padding: 0.5em 0 2em;
    overflow: auto;
    overscroll-behavior: contain;
    scrollbar-width: thin;
  }
  #toc nav > ul  {
    margin-bottom: 2em;
  }
  #toc ul {
    margin: 0 0 0 4px;
    font-size: var(--small-font-size);
  }
  #toc ul p, #toc ul li {
    margin: 2px 0;
    line-height: 22px;
  }
  img { /* future proofing */
    max-width: 100%;
    height: auto;
  }
}

/* pagination */
@media print {
  body {
    width: 100%;
  }
  p {
    orphans: 3;
    widows: 3;
  }
  #n-copyright-notice {
    border-bottom: none;
  }
  #toc, #n-introduction {
    page-break-before: always;
  }
  #toc {
    border-top: none;
    padding-top: 0;
  }
  figure, pre {
    page-break-inside: avoid;
  }
  figure {
    overflow: scroll;
  }
  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
  }
  h2+*, h3+*, h4+*, h5+*, h6+* {
    page-break-before: avoid;
  }
  pre {
    white-space: pre-wrap;
    word-wrap: break-word;
    font-size: 10pt;
  }
  table {
    border: 1px solid #ddd;
  }
  td {
    border-top: 1px solid #ddd;
  }
}

@page :first {
  padding-top: 0;
  @top-left {
    content: normal;
    border: none;
  }
  @top-center {
    content: normal;
    border: none;
  }
  @top-right {
    content: normal;
    border: none;
  }
}

@page {
  size: A4;
  margin-bottom: 45mm;
  padding-top: 20px;
}

/* Changes introduced to fix issues found during implementation */

/* Separate body from document info even without intervening H1 */
section {
  clear: both;
}

/* Top align author divs, to avoid names without organization dropping level with org names */
.author {
  vertical-align: top;
}

/* Style section numbers with more space between number and title */
.section-number {
  padding-right: 0.5em;
}

/* Add styling for a link in the ToC that points to the top of the document */
a.toplink {
  float: right;
  margin: 8px 0.5em 0;
}

/* Fix the dl styling to match the RFC 7992 attributes */
dl > dt,
dl.dlParallel > dt {
  float: left;
  margin-right: 1em;
}
dl.dlNewline > dt {
  float: none;
}

/* Provide styling for table cell text alignment */
table .text-left, table .text-left {
  text-align: left;
}
table .text-center, table .text-center {
  text-align: center;
}
table .text-right, table .text-right {
  text-align: right;
}

/* Make the alternative author contact information look less like just another
   author, and group it closer with the primary author contact information */
.alternative-contact {
  margin: 0.5em 0 0.25em 0;
}
address .non-ascii {
  margin: 0 0 0 2em;
}

/* With it being possible to set tables with alignment
  left, center, and right, { width: 100%; } does not make sense */
table {
  width: auto;
}

/* Avoid reference text that sits in a block with very wide left margin,
   because of a long floating dt label.*/
.references dd {
  overflow: visible;
}

/* Control caption placement */
caption {
  caption-side: bottom;
}

/* Limit the width of the author address vcard, so names in right-to-left
   script don't end up on the other side of the page. */

address.vcard {
  max-width: 20em;
  margin-right: auto;
}

/* For address alignment dependent on LTR or RTL scripts */
address div.left {
  text-align: left;
}
address div.right {
  text-align: right;
}

/* Give the table caption label the same styling as the figcaption */

@media print {
  .toplink {
    display: none;
  }

  /* avoid overwriting the top border line with the ToC header */
  #toc {
    padding-top: 1px;
  }

  /* Avoid page breaks inside dl and author address entries */
  dd {
    page-break-before: avoid;
  }
  .vcard {
    page-break-inside: avoid;
  }

}
/* Tweak the bcp14 keyword presentation */
.bcp14 {
  font-variant: small-caps;
  font-weight: bold;
  font-size: 0.9em;
}

/* Dark mode. */
@media (prefers-color-scheme: dark) {
:root {
  --background-color: #121212;
  --text-color: #f0f0f0;
  --title-color: #fff;
  --link-color: #4da4f0;
  --highlight-color: #282828;
  --line-color: #444;
  --pilcrow-weak: #444;
  --pilcrow-strong: #666;
  scrollbar-color: #777 #333;
}
/* Trick: a prefix match works because only black and white are allowed */
svg [stroke="black"], svg [stroke^="#000"] {
  stroke: var(--text-color);
}
svg [stroke="white"], svg [stroke^="#fff"] {
  stroke: var(--background-color);
}
svg [fill="black"], svg [fill^="#000"], svg :not([fill]) {
  fill: var(--text-color);
}
svg [stroke="fill"], svg [fill^="#fff"] {
  fill: var(--background-color);
}
}
</style>

</head>
<body>
<table class="ears">
<thead><tr>
<td class="left">Internet-Draft</td>
<td class="center">HPACK</td>
<td class="right">March 2022</td>
</tr></thead>
<tfoot><tr>
<td class="left">Peon &amp; Ruellan</td>
<td class="center">Expires 1 October 2022</td>
<td class="right">[Page]</td>
</tr></tfoot>
</table>
<div id="external-metadata" class="document-information"></div>
<div id="internal-metadata" class="document-information">
<dl id="identifiers">
<dt class="label-workgroup">Workgroup:</dt>
<dd class="workgroup">HTTPbis</dd>
<dt class="label-internet-draft">Internet-Draft:</dt>
<dd class="internet-draft">draft-ietf-httpbis-header-compression-latest</dd>
<dt class="label-published">Published:</dt>
<dd class="published">
<time datetime="2022-03-30" class="published">30 March 2022</time>
    </dd>
<dt class="label-intended-status">Intended Status:</dt>
<dd class="intended-status">Standards Track</dd>
<dt class="label-expires">Expires:</dt>
<dd class="expires"><time datetime="2022-10-01">1 October 2022</time></dd>
<dt class="label-authors">Authors:</dt>
<dd class="authors">
<div class="author">
      <div class="author-name">R. Peon</div>
<div class="org">Google, Inc</div>
</div>
<div class="author">
      <div class="author-name">H. Ruellan</div>
<div class="org">Canon CRF</div>
</div>
</dd>
</dl>
</div>
<h1 id="title">HPACK: Header Compression for HTTP/2</h1>
<section id="section-abstract">
      <h2 id="abstract"><a href="#abstract" class="selfRef">Abstract</a></h2>
<p id="section-abstract-1">
                This specification defines HPACK, a compression format for
                efficiently representing HTTP header fields, to be used in
                HTTP/2.<a href="#section-abstract-1" class="pilcrow">¶</a></p>
</section>
<section class="note" id="section-note.1">
      <h2 id="name-editorial-note-to-be-remove">
<a href="#name-editorial-note-to-be-remove" class="section-name selfRef">Editorial Note (To be removed by RFC Editor)</a>
      </h2>
<p id="section-note.1-1">
          Discussion of this draft takes place on the HTTPBIS working group
          mailing list (ietf-http-wg@w3.org), which is archived at <span><a href="https://lists.w3.org/Archives/Public/ietf-http-wg/">https://lists.w3.org/Archives/Public/ietf-http-wg/</a></span>.<a href="#section-note.1-1" class="pilcrow">¶</a></p>
<p id="section-note.1-2">
          Working Group information can be found at <span><a href="http://tools.ietf.org/wg/httpbis/">http://tools.ietf.org/wg/httpbis/</a></span>; that specific to HTTP/2
          are at <span><a href="http://http2.github.io/">http://http2.github.io/</a></span>.<a href="#section-note.1-2" class="pilcrow">¶</a></p>
</section>
<div id="status-of-memo">
<section id="section-boilerplate.1">
        <h2 id="name-status-of-this-memo">
<a href="#name-status-of-this-memo" class="section-name selfRef">Status of This Memo</a>
        </h2>
<p id="section-boilerplate.1-1">
        This Internet-Draft is submitted in full conformance with the
        provisions of BCP 78 and BCP 79.<a href="#section-boilerplate.1-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-2">
        Internet-Drafts are working documents of the Internet Engineering Task
        Force (IETF). Note that other groups may also distribute working
        documents as Internet-Drafts. The list of current Internet-Drafts is
        at <span><a href="https://datatracker.ietf.org/drafts/current/">https://datatracker.ietf.org/drafts/current/</a></span>.<a href="#section-boilerplate.1-2" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-3">
        Internet-Drafts are draft documents valid for a maximum of six months
        and may be updated, replaced, or obsoleted by other documents at any
        time. It is inappropriate to use Internet-Drafts as reference
        material or to cite them other than as "work in progress."<a href="#section-boilerplate.1-3" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-4">
        This Internet-Draft will expire on 1 October 2022.<a href="#section-boilerplate.1-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="copyright">
<section id="section-boilerplate.2">
        <h2 id="name-copyright-notice">
<a href="#name-copyright-notice" class="section-name selfRef">Copyright Notice</a>
        </h2>
<p id="section-boilerplate.2-1">
            Copyright (c) 2022 IETF Trust and the persons identified as the
            document authors. All rights reserved.<a href="#section-boilerplate.2-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.2-2">
            This document is subject to BCP 78 and the IETF Trust's Legal
            Provisions Relating to IETF Documents
            (<span><a href="https://trustee.ietf.org/license-info">https://trustee.ietf.org/license-info</a></span>) in effect on the date of
            publication of this document. Please review these documents
            carefully, as they describe your rights and restrictions with
            respect to this document. Code Components extracted from this
            document must include Revised BSD License text as described in
            Section 4.e of the Trust Legal Provisions and are provided without
            warranty as described in the Revised BSD License.<a href="#section-boilerplate.2-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="toc">
<section id="section-toc.1">
        <a href="#" onclick="scroll(0,0)" class="toplink">▲</a><h2 id="name-table-of-contents">
<a href="#name-table-of-contents" class="section-name selfRef">Table of Contents</a>
        </h2>
<nav class="toc"><ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1">
            <p id="section-toc.1-1.1.1"><a href="#section-1" class="xref">1</a>.  <a href="#name-introduction" class="xref">Introduction</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1.2.1">
                <p id="section-toc.1-1.1.2.1.1" class="keepWithNext"><a href="#section-1.1" class="xref">1.1</a>.  <a href="#name-overview" class="xref">Overview</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1.2.2">
                <p id="section-toc.1-1.1.2.2.1" class="keepWithNext"><a href="#section-1.2" class="xref">1.2</a>.  <a href="#name-conventions" class="xref">Conventions</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1.2.3">
                <p id="section-toc.1-1.1.2.3.1" class="keepWithNext"><a href="#section-1.3" class="xref">1.3</a>.  <a href="#name-terminology" class="xref">Terminology</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2">
            <p id="section-toc.1-1.2.1"><a href="#section-2" class="xref">2</a>.  <a href="#name-compression-process-overvie" class="xref">Compression Process Overview</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.1">
                <p id="section-toc.1-1.2.2.1.1"><a href="#section-2.1" class="xref">2.1</a>.  <a href="#name-header-list-ordering" class="xref">Header List Ordering</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.2">
                <p id="section-toc.1-1.2.2.2.1"><a href="#section-2.2" class="xref">2.2</a>.  <a href="#name-encoding-and-decoding-conte" class="xref">Encoding and Decoding Contexts</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.3">
                <p id="section-toc.1-1.2.2.3.1"><a href="#section-2.3" class="xref">2.3</a>.  <a href="#name-indexing-tables" class="xref">Indexing Tables</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.3.2.1">
                    <p id="section-toc.1-1.2.2.3.2.1.1"><a href="#section-2.3.1" class="xref">2.3.1</a>.  <a href="#name-static-table" class="xref">Static Table</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.3.2.2">
                    <p id="section-toc.1-1.2.2.3.2.2.1"><a href="#section-2.3.2" class="xref">2.3.2</a>.  <a href="#name-dynamic-table" class="xref">Dynamic Table</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.3.2.3">
                    <p id="section-toc.1-1.2.2.3.2.3.1"><a href="#section-2.3.3" class="xref">2.3.3</a>.  <a href="#name-index-address-space" class="xref">Index Address Space</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.4">
                <p id="section-toc.1-1.2.2.4.1"><a href="#section-2.4" class="xref">2.4</a>.  <a href="#name-header-field-representation" class="xref">Header Field Representation</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3">
            <p id="section-toc.1-1.3.1"><a href="#section-3" class="xref">3</a>.  <a href="#name-header-block-decoding" class="xref">Header Block Decoding</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.1">
                <p id="section-toc.1-1.3.2.1.1"><a href="#section-3.1" class="xref">3.1</a>.  <a href="#name-header-block-processing" class="xref">Header Block Processing</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.2">
                <p id="section-toc.1-1.3.2.2.1"><a href="#section-3.2" class="xref">3.2</a>.  <a href="#name-header-field-representation-" class="xref">Header Field Representation Processing</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4">
            <p id="section-toc.1-1.4.1"><a href="#section-4" class="xref">4</a>.  <a href="#name-dynamic-table-management" class="xref">Dynamic Table Management</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.1">
                <p id="section-toc.1-1.4.2.1.1"><a href="#section-4.1" class="xref">4.1</a>.  <a href="#name-calculating-table-size" class="xref">Calculating Table Size</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.2">
                <p id="section-toc.1-1.4.2.2.1"><a href="#section-4.2" class="xref">4.2</a>.  <a href="#name-maximum-table-size" class="xref">Maximum Table Size</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.3">
                <p id="section-toc.1-1.4.2.3.1"><a href="#section-4.3" class="xref">4.3</a>.  <a href="#name-entry-eviction-when-dynamic" class="xref">Entry Eviction When Dynamic Table Size Changes</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.4">
                <p id="section-toc.1-1.4.2.4.1"><a href="#section-4.4" class="xref">4.4</a>.  <a href="#name-entry-eviction-when-adding-" class="xref">Entry Eviction When Adding New Entries</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5">
            <p id="section-toc.1-1.5.1"><a href="#section-5" class="xref">5</a>.  <a href="#name-primitive-type-representati" class="xref">Primitive Type Representations</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.1">
                <p id="section-toc.1-1.5.2.1.1"><a href="#section-5.1" class="xref">5.1</a>.  <a href="#name-integer-representation" class="xref">Integer Representation</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.2">
                <p id="section-toc.1-1.5.2.2.1"><a href="#section-5.2" class="xref">5.2</a>.  <a href="#name-string-literal-representati" class="xref">String Literal Representation</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6">
            <p id="section-toc.1-1.6.1"><a href="#section-6" class="xref">6</a>.  <a href="#name-binary-format" class="xref">Binary Format</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.1">
                <p id="section-toc.1-1.6.2.1.1"><a href="#section-6.1" class="xref">6.1</a>.  <a href="#name-indexed-header-field-repres" class="xref">Indexed Header Field Representation</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.2">
                <p id="section-toc.1-1.6.2.2.1"><a href="#section-6.2" class="xref">6.2</a>.  <a href="#name-literal-header-field-repres" class="xref">Literal Header Field Representation</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.2.2.1">
                    <p id="section-toc.1-1.6.2.2.2.1.1"><a href="#section-6.2.1" class="xref">6.2.1</a>.  <a href="#name-literal-header-field-with-i" class="xref">Literal Header Field with Incremental Indexing</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.2.2.2">
                    <p id="section-toc.1-1.6.2.2.2.2.1"><a href="#section-6.2.2" class="xref">6.2.2</a>.  <a href="#name-literal-header-field-withou" class="xref">Literal Header Field without Indexing</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.2.2.3">
                    <p id="section-toc.1-1.6.2.2.2.3.1"><a href="#section-6.2.3" class="xref">6.2.3</a>.  <a href="#name-literal-header-field-never-" class="xref">Literal Header Field Never Indexed</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.3">
                <p id="section-toc.1-1.6.2.3.1"><a href="#section-6.3" class="xref">6.3</a>.  <a href="#name-dynamic-table-size-update" class="xref">Dynamic Table Size Update</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7">
            <p id="section-toc.1-1.7.1"><a href="#section-7" class="xref">7</a>.  <a href="#name-security-considerations" class="xref">Security Considerations</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.1">
                <p id="section-toc.1-1.7.2.1.1"><a href="#section-7.1" class="xref">7.1</a>.  <a href="#name-probing-dynamic-table-state" class="xref">Probing Dynamic Table State</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.1.2.1">
                    <p id="section-toc.1-1.7.2.1.2.1.1"><a href="#section-7.1.1" class="xref">7.1.1</a>.  <a href="#name-applicability-to-hpack-and-" class="xref">Applicability to HPACK and HTTP</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.1.2.2">
                    <p id="section-toc.1-1.7.2.1.2.2.1"><a href="#section-7.1.2" class="xref">7.1.2</a>.  <a href="#name-mitigation" class="xref">Mitigation</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.1.2.3">
                    <p id="section-toc.1-1.7.2.1.2.3.1"><a href="#section-7.1.3" class="xref">7.1.3</a>.  <a href="#name-never-indexed-literals" class="xref">Never-Indexed Literals</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.2">
                <p id="section-toc.1-1.7.2.2.1"><a href="#section-7.2" class="xref">7.2</a>.  <a href="#name-static-huffman-encoding" class="xref">Static Huffman Encoding</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.3">
                <p id="section-toc.1-1.7.2.3.1"><a href="#section-7.3" class="xref">7.3</a>.  <a href="#name-memory-consumption" class="xref">Memory Consumption</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.4">
                <p id="section-toc.1-1.7.2.4.1"><a href="#section-7.4" class="xref">7.4</a>.  <a href="#name-implementation-limits" class="xref">Implementation Limits</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8">
            <p id="section-toc.1-1.8.1"><a href="#section-8" class="xref">8</a>.  <a href="#name-references" class="xref">References</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.1">
                <p id="section-toc.1-1.8.2.1.1"><a href="#section-8.1" class="xref">8.1</a>.  <a href="#name-normative-references" class="xref">Normative References</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.2">
                <p id="section-toc.1-1.8.2.2.1"><a href="#section-8.2" class="xref">8.2</a>.  <a href="#name-informative-references" class="xref">Informative References</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9">
            <p id="section-toc.1-1.9.1"><a href="#appendix-A" class="xref">Appendix A</a>.  <a href="#name-static-table-definition" class="xref">Static Table Definition</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10">
            <p id="section-toc.1-1.10.1"><a href="#appendix-B" class="xref">Appendix B</a>.  <a href="#name-huffman-code" class="xref">Huffman Code</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11">
            <p id="section-toc.1-1.11.1"><a href="#appendix-C" class="xref">Appendix C</a>.  <a href="#name-examples" class="xref">Examples</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11.2.1">
                <p id="section-toc.1-1.11.2.1.1"><a href="#appendix-C.1" class="xref">C.1</a>.  <a href="#name-integer-representation-exam" class="xref">Integer Representation Examples</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11.2.1.2.1">
                    <p id="section-toc.1-1.11.2.1.2.1.1"><a href="#appendix-C.1.1" class="xref">C.1.1</a>.  <a href="#name-example-1-encoding-10-using" class="xref">Example 1: Encoding 10 Using a 5-Bit Prefix</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11.2.1.2.2">
                    <p id="section-toc.1-1.11.2.1.2.2.1"><a href="#appendix-C.1.2" class="xref">C.1.2</a>.  <a href="#name-example-2-encoding-1337-usi" class="xref">Example 2: Encoding 1337 Using a 5-Bit Prefix</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11.2.1.2.3">
                    <p id="section-toc.1-1.11.2.1.2.3.1"><a href="#appendix-C.1.3" class="xref">C.1.3</a>.  <a href="#name-example-3-encoding-42-start" class="xref">Example 3: Encoding 42 Starting at an Octet Boundary</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11.2.2">
                <p id="section-toc.1-1.11.2.2.1"><a href="#appendix-C.2" class="xref">C.2</a>.  <a href="#name-header-field-representation-e" class="xref">Header Field Representation Examples</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11.2.2.2.1">
                    <p id="section-toc.1-1.11.2.2.2.1.1"><a href="#appendix-C.2.1" class="xref">C.2.1</a>.  <a href="#name-literal-header-field-with-ind" class="xref">Literal Header Field with Indexing</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11.2.2.2.2">
                    <p id="section-toc.1-1.11.2.2.2.2.1"><a href="#appendix-C.2.2" class="xref">C.2.2</a>.  <a href="#name-literal-header-field-without-i" class="xref">Literal Header Field without Indexing</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11.2.2.2.3">
                    <p id="section-toc.1-1.11.2.2.2.3.1"><a href="#appendix-C.2.3" class="xref">C.2.3</a>.  <a href="#name-literal-header-field-never-ind" class="xref">Literal Header Field Never Indexed</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11.2.2.2.4">
                    <p id="section-toc.1-1.11.2.2.2.4.1"><a href="#appendix-C.2.4" class="xref">C.2.4</a>.  <a href="#name-indexed-header-field-2" class="xref">Indexed Header Field</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11.2.3">
                <p id="section-toc.1-1.11.2.3.1"><a href="#appendix-C.3" class="xref">C.3</a>.  <a href="#name-request-examples-without-hu" class="xref">Request Examples without Huffman Coding</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11.2.3.2.1">
                    <p id="section-toc.1-1.11.2.3.2.1.1"><a href="#appendix-C.3.1" class="xref">C.3.1</a>.  <a href="#name-first-request" class="xref">First Request</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11.2.3.2.2">
                    <p id="section-toc.1-1.11.2.3.2.2.1"><a href="#appendix-C.3.2" class="xref">C.3.2</a>.  <a href="#name-second-request" class="xref">Second Request</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11.2.3.2.3">
                    <p id="section-toc.1-1.11.2.3.2.3.1"><a href="#appendix-C.3.3" class="xref">C.3.3</a>.  <a href="#name-third-request" class="xref">Third Request</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11.2.4">
                <p id="section-toc.1-1.11.2.4.1"><a href="#appendix-C.4" class="xref">C.4</a>.  <a href="#name-request-examples-with-huffm" class="xref">Request Examples with Huffman Coding</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11.2.4.2.1">
                    <p id="section-toc.1-1.11.2.4.2.1.1"><a href="#appendix-C.4.1" class="xref">C.4.1</a>.  <a href="#name-first-request-2" class="xref">First Request</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11.2.4.2.2">
                    <p id="section-toc.1-1.11.2.4.2.2.1"><a href="#appendix-C.4.2" class="xref">C.4.2</a>.  <a href="#name-second-request-2" class="xref">Second Request</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11.2.4.2.3">
                    <p id="section-toc.1-1.11.2.4.2.3.1"><a href="#appendix-C.4.3" class="xref">C.4.3</a>.  <a href="#name-third-request-2" class="xref">Third Request</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11.2.5">
                <p id="section-toc.1-1.11.2.5.1"><a href="#appendix-C.5" class="xref">C.5</a>.  <a href="#name-response-examples-without-h" class="xref">Response Examples without Huffman Coding</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11.2.5.2.1">
                    <p id="section-toc.1-1.11.2.5.2.1.1"><a href="#appendix-C.5.1" class="xref">C.5.1</a>.  <a href="#name-first-response" class="xref">First Response</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11.2.5.2.2">
                    <p id="section-toc.1-1.11.2.5.2.2.1"><a href="#appendix-C.5.2" class="xref">C.5.2</a>.  <a href="#name-second-response" class="xref">Second Response</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11.2.5.2.3">
                    <p id="section-toc.1-1.11.2.5.2.3.1"><a href="#appendix-C.5.3" class="xref">C.5.3</a>.  <a href="#name-third-response" class="xref">Third Response</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11.2.6">
                <p id="section-toc.1-1.11.2.6.1"><a href="#appendix-C.6" class="xref">C.6</a>.  <a href="#name-response-examples-with-huff" class="xref">Response Examples with Huffman Coding</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11.2.6.2.1">
                    <p id="section-toc.1-1.11.2.6.2.1.1"><a href="#appendix-C.6.1" class="xref">C.6.1</a>.  <a href="#name-first-response-2" class="xref">First Response</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11.2.6.2.2">
                    <p id="section-toc.1-1.11.2.6.2.2.1"><a href="#appendix-C.6.2" class="xref">C.6.2</a>.  <a href="#name-second-response-2" class="xref">Second Response</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11.2.6.2.3">
                    <p id="section-toc.1-1.11.2.6.2.3.1"><a href="#appendix-C.6.3" class="xref">C.6.3</a>.  <a href="#name-third-response-2" class="xref">Third Response</a></p>
</li>
                </ul>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.12">
            <p id="section-toc.1-1.12.1"><a href="#appendix-D" class="xref"></a><a href="#name-acknowledgments" class="xref">Acknowledgments</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.13">
            <p id="section-toc.1-1.13.1"><a href="#appendix-E" class="xref"></a><a href="#name-authors-addresses" class="xref">Authors' Addresses</a></p>
</li>
        </ul>
</nav>
</section>
</div>
<section id="section-1">
      <h2 id="name-introduction">
<a href="#section-1" class="section-number selfRef">1. </a><a href="#name-introduction" class="section-name selfRef">Introduction</a>
      </h2>
<p id="section-1-1">
                In HTTP/1.1 (see <span>[<a href="#RFC7230" class="xref">RFC7230</a>]</span>), header fields are
                not compressed. As web pages have grown to require dozens to
                hundreds of requests, the redundant header fields in these
                requests unnecessarily consume bandwidth, measurably increasing
                latency.<a href="#section-1-1" class="pilcrow">¶</a></p>
<p id="section-1-2">
                <span><a href="#SPDY" class="xref">SPDY</a> [<a href="#SPDY" class="xref">SPDY</a>]</span> initially addressed this
                redundancy by compressing header fields using the <span><a href="#DEFLATE" class="xref">DEFLATE</a> [<a href="#DEFLATE" class="xref">DEFLATE</a>]</span> format, which proved very
                effective at efficiently representing the redundant header
                fields.  However, that approach exposed a security risk as
                demonstrated by the CRIME (Compression Ratio Info-leak Made Easy)
                attack (see <span>[<a href="#CRIME" class="xref">CRIME</a>]</span>).<a href="#section-1-2" class="pilcrow">¶</a></p>
<p id="section-1-3">
                This specification defines HPACK, a new compressor that
                eliminates redundant header fields, limits
                vulnerability to known security attacks, and has a bounded
                memory requirement for use in constrained environments.
                Potential security concerns for HPACK are described in <a href="#Security" class="xref">Section 7</a>.<a href="#section-1-3" class="pilcrow">¶</a></p>
<p id="section-1-4">
                The HPACK format is intentionally simple and inflexible.  Both
                characteristics reduce the risk of interoperability or security
                issues due to implementation error.  No extensibility
                mechanisms are defined; changes to the format are only possible
                by defining a complete replacement.<a href="#section-1-4" class="pilcrow">¶</a></p>
<section id="section-1.1">
        <h3 id="name-overview">
<a href="#section-1.1" class="section-number selfRef">1.1. </a><a href="#name-overview" class="section-name selfRef">Overview</a>
        </h3>
<p id="section-1.1-1">
                    The format defined in this specification treats a list of
                    header fields as an ordered collection of name-value pairs
                    that can include duplicate pairs. Names and values are
                    considered to be opaque sequences of octets, and the order
                    of header fields is preserved after being compressed and
                    decompressed.<a href="#section-1.1-1" class="pilcrow">¶</a></p>
<p id="section-1.1-2">
                    Encoding is informed by header field tables that map
                    header fields to indexed values. These header field tables
                    can be incrementally updated as new header fields are
                    encoded or decoded.<a href="#section-1.1-2" class="pilcrow">¶</a></p>
<p id="section-1.1-3">
                    In the encoded form, a header field is represented either
                    literally or as a reference to a header field in one of
                    the header field tables. Therefore, a list of header fields
                    can be encoded using a mixture of references and literal
                    values.<a href="#section-1.1-3" class="pilcrow">¶</a></p>
<p id="section-1.1-4">
                    Literal values are either encoded directly or use a static
                    Huffman code.<a href="#section-1.1-4" class="pilcrow">¶</a></p>
<p id="section-1.1-5">
                    The encoder is responsible for deciding which header fields
                    to insert as new entries in the header field tables.  The
                    decoder executes the modifications to the header field
                    tables prescribed by the encoder, reconstructing the list of
                    header fields in the process.  This enables decoders to
                    remain simple and interoperate with a wide variety of
                    encoders.<a href="#section-1.1-5" class="pilcrow">¶</a></p>
<p id="section-1.1-6">
                    Examples illustrating the use of these different mechanisms
                    to represent header fields are available in <a href="#examples" class="xref">Appendix C</a>.<a href="#section-1.1-6" class="pilcrow">¶</a></p>
</section>
<div id="conventions">
<section id="section-1.2">
        <h3 id="name-conventions">
<a href="#section-1.2" class="section-number selfRef">1.2. </a><a href="#name-conventions" class="section-name selfRef">Conventions</a>
        </h3>
<p id="section-1.2-1">
                    The key words "MUST", "MUST NOT", "REQUIRED", "SHALL",
                    "SHALL NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY",
                    and "OPTIONAL" in this document are to be interpreted as
                    described in <span><a href="#RFC2119" class="xref">RFC 2119</a> [<a href="#RFC2119" class="xref">RFC2119</a>]</span>.<a href="#section-1.2-1" class="pilcrow">¶</a></p>
<p id="section-1.2-2">
                    All numeric values are in network byte order.  Values are
                    unsigned unless otherwise indicated.  Literal values are
                    provided in decimal or hexadecimal as appropriate.<a href="#section-1.2-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="encoding.concepts">
<section id="section-1.3">
        <h3 id="name-terminology">
<a href="#section-1.3" class="section-number selfRef">1.3. </a><a href="#name-terminology" class="section-name selfRef">Terminology</a>
        </h3>
<p id="section-1.3-1">
                    This specification uses the following terms:<a href="#section-1.3-1" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-1.3-2">
          <dt id="section-1.3-2.1">Header Field:</dt>
          <dd style="margin-left: 1.5em" id="section-1.3-2.2">
                            A name-value pair.  Both the name and value are
                            treated as opaque sequences of octets.<a href="#section-1.3-2.2" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-1.3-2.3">Dynamic Table:</dt>
          <dd style="margin-left: 1.5em" id="section-1.3-2.4">
                            The dynamic table (see <a href="#dynamic.table" class="xref">Section 2.3.2</a>) is a table that
                            associates stored header fields with index values.
                            This table is dynamic and specific to an encoding or
                            decoding context.<a href="#section-1.3-2.4" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-1.3-2.5">Static Table:</dt>
          <dd style="margin-left: 1.5em" id="section-1.3-2.6">
                            The static table (see <a href="#static.table" class="xref">Section 2.3.1</a>)
                            is a table that statically associates header fields
                            that occur frequently
                            with index values.  This table is ordered,
                            read-only, always accessible, and it may be shared
                            amongst all encoding or decoding contexts.<a href="#section-1.3-2.6" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-1.3-2.7">Header List:</dt>
          <dd style="margin-left: 1.5em" id="section-1.3-2.8">
                            A header list is an ordered collection of header
                            fields that are encoded jointly and can contain
                            duplicate header fields. A complete list of
                            header fields contained in an HTTP/2 header block
                            is a header list.<a href="#section-1.3-2.8" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-1.3-2.9">Header Field Representation:</dt>
          <dd style="margin-left: 1.5em" id="section-1.3-2.10">
                            A header field can be represented in encoded form
                            either as a literal or as an index (see <a href="#header.representation" class="xref">Section 2.4</a>).<a href="#section-1.3-2.10" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-1.3-2.11">Header Block:</dt>
          <dd style="margin-left: 1.5em" id="section-1.3-2.12">
                            An ordered list of header field representations,
                            which, when decoded, yields a complete header list.<a href="#section-1.3-2.12" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
</section>
</div>
</section>
<div id="header.encoding">
<section id="section-2">
      <h2 id="name-compression-process-overvie">
<a href="#section-2" class="section-number selfRef">2. </a><a href="#name-compression-process-overvie" class="section-name selfRef">Compression Process Overview</a>
      </h2>
<p id="section-2-1">
                This specification does not describe a specific algorithm for an
                encoder.  Instead, it defines precisely how a decoder is
                expected to operate, allowing encoders to produce any encoding
                that this definition permits.<a href="#section-2-1" class="pilcrow">¶</a></p>
<div id="header.list.ordering">
<section id="section-2.1">
        <h3 id="name-header-list-ordering">
<a href="#section-2.1" class="section-number selfRef">2.1. </a><a href="#name-header-list-ordering" class="section-name selfRef">Header List Ordering</a>
        </h3>
<p id="section-2.1-1">
                    HPACK preserves the ordering of header fields inside the
                    header list. An encoder MUST order header field
                    representations in the header block according to their
                    ordering in the original header list. A decoder MUST
                    order header fields in the decoded header list according to
                    their ordering in the header block.<a href="#section-2.1-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="encoding.context">
<section id="section-2.2">
        <h3 id="name-encoding-and-decoding-conte">
<a href="#section-2.2" class="section-number selfRef">2.2. </a><a href="#name-encoding-and-decoding-conte" class="section-name selfRef">Encoding and Decoding Contexts</a>
        </h3>
<p id="section-2.2-1">
                    To decompress header blocks, a decoder only needs to
                    maintain a dynamic table (see <a href="#dynamic.table" class="xref">Section 2.3.2</a>) as a decoding context. No
                    other dynamic state is needed.<a href="#section-2.2-1" class="pilcrow">¶</a></p>
<p id="section-2.2-2">
                    When used for bidirectional communication, such as in HTTP,
                    the encoding and decoding dynamic tables maintained by an
                    endpoint are completely independent, i.e., the request
                    and response dynamic tables are separate.<a href="#section-2.2-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="indexing.tables">
<section id="section-2.3">
        <h3 id="name-indexing-tables">
<a href="#section-2.3" class="section-number selfRef">2.3. </a><a href="#name-indexing-tables" class="section-name selfRef">Indexing Tables</a>
        </h3>
<p id="section-2.3-1">
                    HPACK uses two tables for associating header fields to
                    indexes. The static table (see <a href="#static.table" class="xref">Section 2.3.1</a>) is predefined and contains
                    common header fields (most of them with an empty value). The
                    dynamic table (see <a href="#dynamic.table" class="xref">Section 2.3.2</a>) is
                    dynamic and can be used by the encoder to index header
                    fields repeated in the encoded header lists.<a href="#section-2.3-1" class="pilcrow">¶</a></p>
<p id="section-2.3-2">
                    These two tables are combined into a single address space
                    for defining index values (see <a href="#index.address.space" class="xref">Section 2.3.3</a>).<a href="#section-2.3-2" class="pilcrow">¶</a></p>
<div id="static.table">
<section id="section-2.3.1">
          <h4 id="name-static-table">
<a href="#section-2.3.1" class="section-number selfRef">2.3.1. </a><a href="#name-static-table" class="section-name selfRef">Static Table</a>
          </h4>
<p id="section-2.3.1-1">
                        The static table consists of a predefined static list of
                        header fields. Its entries are defined in <a href="#static.table.definition" class="xref">Appendix A</a>.<a href="#section-2.3.1-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="dynamic.table">
<section id="section-2.3.2">
          <h4 id="name-dynamic-table">
<a href="#section-2.3.2" class="section-number selfRef">2.3.2. </a><a href="#name-dynamic-table" class="section-name selfRef">Dynamic Table</a>
          </h4>
<p id="section-2.3.2-1">
                        The dynamic table consists of a list of header fields
                        maintained in first-in, first-out order.  The first and
                        newest entry in a dynamic table is at the lowest index,
                        and the oldest entry of a dynamic table is at the
                        highest index.<a href="#section-2.3.2-1" class="pilcrow">¶</a></p>
<p id="section-2.3.2-2">
                        The dynamic table is initially empty.  Entries are added
                        as each header block is decompressed.<a href="#section-2.3.2-2" class="pilcrow">¶</a></p>
<p id="section-2.3.2-3">
                        The dynamic table can contain duplicate entries (i.e.,
                        entries with the same name and same value).
                        Therefore, duplicate entries MUST NOT be treated as an
                        error by a decoder.<a href="#section-2.3.2-3" class="pilcrow">¶</a></p>
<p id="section-2.3.2-4">
                        The encoder decides how to update the dynamic table and
                        as such can control how much memory is used by the
                        dynamic table. To limit the memory requirements of the
                        decoder, the dynamic table size is strictly bounded (see
                        <a href="#maximum.table.size" class="xref">Section 4.2</a>).<a href="#section-2.3.2-4" class="pilcrow">¶</a></p>
<p id="section-2.3.2-5">
                        The decoder updates the dynamic table during the
                        processing of a list of header field representations
                        (see <a href="#header.representation.processing" class="xref">Section 3.2</a>).<a href="#section-2.3.2-5" class="pilcrow">¶</a></p>
</section>
</div>
<div id="index.address.space">
<section id="section-2.3.3">
          <h4 id="name-index-address-space">
<a href="#section-2.3.3" class="section-number selfRef">2.3.3. </a><a href="#name-index-address-space" class="section-name selfRef">Index Address Space</a>
          </h4>
<p id="section-2.3.3-1">
                        The static table and the dynamic table are combined into
                        a single index address space.<a href="#section-2.3.3-1" class="pilcrow">¶</a></p>
<p id="section-2.3.3-2">
                        Indices between 1 and the length of the static table
                        (inclusive) refer to elements in the static table (see
                        <a href="#static.table" class="xref">Section 2.3.1</a>).<a href="#section-2.3.3-2" class="pilcrow">¶</a></p>
<p id="section-2.3.3-3">
                        Indices strictly greater than the length of the static
                        table refer to elements in the dynamic table (see <a href="#dynamic.table" class="xref">Section 2.3.2</a>).  The length
                        of the static table is subtracted to find the index into
                        the dynamic table.<a href="#section-2.3.3-3" class="pilcrow">¶</a></p>
<p id="section-2.3.3-4">
                        Indices strictly greater than the sum of the lengths of
                        both tables MUST be treated as a decoding error.<a href="#section-2.3.3-4" class="pilcrow">¶</a></p>
<p id="section-2.3.3-5" class="keepWithNext">
                            For a static table size of s and a dynamic table
                            size of k, the following diagram shows the entire
                            valid index address space.<a href="#section-2.3.3-5" class="pilcrow">¶</a></p>
<span id="name-index-address-space-2"></span><div id="Index.Address.Space">
<figure id="figure-1">
            <div class="alignLeft art-drawing art-text artwork" id="section-2.3.3-6.1">
<pre>
        &lt;----------  Index Address Space ----------&gt;
        &lt;-- Static  Table --&gt;  &lt;-- Dynamic Table --&gt;
        +---+-----------+---+  +---+-----------+---+
        | 1 |    ...    | s |  |s+1|    ...    |s+k|
        +---+-----------+---+  +---+-----------+---+
                               ^                   |
                               |                   V
                        Insertion Point      Dropping Point
</pre>
</div>
<figcaption><a href="#figure-1" class="selfRef">Figure 1</a>:
<a href="#name-index-address-space-2" class="selfRef">Index Address Space</a>
            </figcaption></figure>
</div>
</section>
</div>
</section>
</div>
<div id="header.representation">
<section id="section-2.4">
        <h3 id="name-header-field-representation">
<a href="#section-2.4" class="section-number selfRef">2.4. </a><a href="#name-header-field-representation" class="section-name selfRef">Header Field Representation</a>
        </h3>
<p id="section-2.4-1">
                    An encoded header field can be represented either as an
                    index or as a literal.<a href="#section-2.4-1" class="pilcrow">¶</a></p>
<p id="section-2.4-2">
                    An indexed representation defines a header field as a
                    reference to an entry in either the static table or the
                    dynamic table (see <a href="#indexed.header.representation" class="xref">Section 6.1</a>).<a href="#section-2.4-2" class="pilcrow">¶</a></p>
<p id="section-2.4-3">
                    A literal representation defines a header field by
                    specifying its name and value. The header field name can be
                    represented literally or as a reference to an entry in
                    either the static table or the dynamic table. The header
                    field value is represented literally.<a href="#section-2.4-3" class="pilcrow">¶</a></p>
<p id="section-2.4-4">
                    Three different literal representations are defined:<a href="#section-2.4-4" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-2.4-5.1">
                            A literal representation that adds the header field
                            as a new entry at the beginning of the dynamic table
                            (see <a href="#literal.header.with.incremental.indexing" class="xref">Section 6.2.1</a>).<a href="#section-2.4-5.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-2.4-5.2">
                            A literal representation that does not add the
                            header field to the dynamic table (see <a href="#literal.header.without.indexing" class="xref">Section 6.2.2</a>).<a href="#section-2.4-5.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-2.4-5.3">
                            A literal representation that does not add the
                            header field to the dynamic table, with the
                            additional stipulation that this header field always
                            use a literal representation, in particular when
                            re-encoded by an intermediary (see <a href="#literal.header.never.indexed" class="xref">Section 6.2.3</a>). This
                            representation is intended for protecting header
                            field values that are not to be put at risk by
                            compressing them (see <a href="#never.indexed.literals" class="xref">Section 7.1.3</a> for more
                            details).<a href="#section-2.4-5.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="section-2.4-6">
                    The selection of one of these literal representations can be
                    guided by security considerations, in order to protect
                    sensitive header field values (see <a href="#compression.based.attacks" class="xref">Section 7.1</a>).<a href="#section-2.4-6" class="pilcrow">¶</a></p>
<p id="section-2.4-7">
                    The literal representation of a header field name or of a
                    header field value can encode the sequence of octets either
                    directly or using a static Huffman code (see <a href="#string.literal.representation" class="xref">Section 5.2</a>).<a href="#section-2.4-7" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="header.block.decoding">
<section id="section-3">
      <h2 id="name-header-block-decoding">
<a href="#section-3" class="section-number selfRef">3. </a><a href="#name-header-block-decoding" class="section-name selfRef">Header Block Decoding</a>
      </h2>
<div id="header.block.processing">
<section id="section-3.1">
        <h3 id="name-header-block-processing">
<a href="#section-3.1" class="section-number selfRef">3.1. </a><a href="#name-header-block-processing" class="section-name selfRef">Header Block Processing</a>
        </h3>
<p id="section-3.1-1">
                    A decoder processes a header block sequentially to
                    reconstruct the original header list.<a href="#section-3.1-1" class="pilcrow">¶</a></p>
<p id="section-3.1-2">
                    A header block is the concatenation of header field
                    representations. The different possible header field
                    representations are described in <a href="#detailed.format" class="xref">Section 6</a>.<a href="#section-3.1-2" class="pilcrow">¶</a></p>
<p id="section-3.1-3">
                    Once a header field is decoded and added to the
                    reconstructed header list, the header field cannot be
                    removed. A header field added to the header list can be
                    safely passed to the application.<a href="#section-3.1-3" class="pilcrow">¶</a></p>
<p id="section-3.1-4">
                    By passing the resulting header fields to the application,
                    a decoder can be implemented with minimal transitory memory
                    commitment in addition to the memory required for the dynamic table.<a href="#section-3.1-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="header.representation.processing">
<section id="section-3.2">
        <h3 id="name-header-field-representation-">
<a href="#section-3.2" class="section-number selfRef">3.2. </a><a href="#name-header-field-representation-" class="section-name selfRef">Header Field Representation Processing</a>
        </h3>
<p id="section-3.2-1">
                    The processing of a header block to obtain a header list is
                    defined in this section.  To ensure that the decoding will
                    successfully produce a header list, a decoder MUST obey the
                    following rules.<a href="#section-3.2-1" class="pilcrow">¶</a></p>
<p id="section-3.2-2">
                    All the header field representations contained in a header
                    block are processed in the order in which they appear, as
                    specified below.  Details on the formatting of the various
                    header field representations and some additional processing
                    instructions are found in <a href="#detailed.format" class="xref">Section 6</a>.<a href="#section-3.2-2" class="pilcrow">¶</a></p>
<p id="section-3.2-3">
                    An <em>indexed representation</em> entails the
                    following actions:<a href="#section-3.2-3" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-3.2-4.1">
                            The header field corresponding to the referenced
                            entry in either the static table or dynamic table is
                            appended to the decoded header list.<a href="#section-3.2-4.1" class="pilcrow">¶</a>
</li>
        </ul>
<p id="section-3.2-5">
                    A <em>literal representation</em> that is <em>not
                    added</em> to the dynamic table entails the following
                    action:<a href="#section-3.2-5" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-3.2-6.1">
                            The header field is appended to the decoded header
                            list.<a href="#section-3.2-6.1" class="pilcrow">¶</a>
</li>
        </ul>
<p id="section-3.2-7">
                    A <em>literal representation</em> that is
                    <em>added</em> to the dynamic table entails the
                    following actions:<a href="#section-3.2-7" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-3.2-8.1">
                            The header field is appended to the decoded header
                            list.<a href="#section-3.2-8.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-3.2-8.2">
                            The header field is inserted at the beginning of the
                            dynamic table. This insertion could result in the
                            eviction of previous entries in the dynamic table
                            (see <a href="#entry.addition" class="xref">Section 4.4</a>).<a href="#section-3.2-8.2" class="pilcrow">¶</a>
</li>
        </ul>
</section>
</div>
</section>
</div>
<div id="dynamic.table.management">
<section id="section-4">
      <h2 id="name-dynamic-table-management">
<a href="#section-4" class="section-number selfRef">4. </a><a href="#name-dynamic-table-management" class="section-name selfRef">Dynamic Table Management</a>
      </h2>
<p id="section-4-1">
                To limit the memory requirements on the decoder side, the
                dynamic table is constrained in size.<a href="#section-4-1" class="pilcrow">¶</a></p>
<div id="calculating.table.size">
<section id="section-4.1">
        <h3 id="name-calculating-table-size">
<a href="#section-4.1" class="section-number selfRef">4.1. </a><a href="#name-calculating-table-size" class="section-name selfRef">Calculating Table Size</a>
        </h3>
<p id="section-4.1-1">
                    The size of the dynamic table is the sum of the size of its
                    entries.<a href="#section-4.1-1" class="pilcrow">¶</a></p>
<p id="section-4.1-2">
                    The size of an entry is the sum of its name's length in
                    octets (as defined in <a href="#string.literal.representation" class="xref">Section 5.2</a>), its value's
                    length in octets, and 32.<a href="#section-4.1-2" class="pilcrow">¶</a></p>
<p id="section-4.1-3">
                    The size of an entry is calculated using the length of its
                    name and value without any Huffman encoding applied.<a href="#section-4.1-3" class="pilcrow">¶</a></p>
<aside id="section-4.1-4">
          <p id="section-4.1-4.1">
                    <strong>Note:</strong>
                    The additional 32 octets account for an estimated
                    overhead associated with an entry. For example, an
                    entry structure using two 64-bit pointers to
                    reference the name and the value of the entry and
                    two 64-bit integers for counting the number of
                    references to the name and value would have 32
                    octets of overhead.<a href="#section-4.1-4.1" class="pilcrow">¶</a></p>
</aside>
</section>
</div>
<div id="maximum.table.size">
<section id="section-4.2">
        <h3 id="name-maximum-table-size">
<a href="#section-4.2" class="section-number selfRef">4.2. </a><a href="#name-maximum-table-size" class="section-name selfRef">Maximum Table Size</a>
        </h3>
<p id="section-4.2-1">
                    Protocols that use HPACK determine the maximum size that the
                    encoder is permitted to use for the dynamic table.  In
                    HTTP/2, this value is determined by the
                    SETTINGS_HEADER_TABLE_SIZE setting (see <span>[<a href="#HTTP2" class="xref">HTTP2</a>]</span>).<a href="#section-4.2-1" class="pilcrow">¶</a></p>
<p id="section-4.2-2">
                    An encoder can choose to use less capacity than this maximum
                    size (see <a href="#encoding.context.update" class="xref">Section 6.3</a>), but the
                    chosen size MUST stay lower than or equal to the maximum set
                    by the protocol.<a href="#section-4.2-2" class="pilcrow">¶</a></p>
<p id="section-4.2-3">
                    A change in the maximum size of the dynamic table is
                    signaled via a dynamic table size update (see <a href="#encoding.context.update" class="xref">Section 6.3</a>).  This dynamic table size
                    update MUST occur at the beginning of the first header block
                    following the change to the dynamic table size.  In HTTP/2,
                    this follows a settings acknowledgment (see <span>[<a href="#HTTP2" class="xref">HTTP2</a>]</span>).<a href="#section-4.2-3" class="pilcrow">¶</a></p>
<p id="section-4.2-4">
                    Multiple updates to the maximum table size can occur between
                    the transmission of two header blocks.  In the case that this
                    size is changed more than once in this interval, the
                    smallest maximum table size that occurs in that interval
                    MUST be signaled in a dynamic table size update.  The final
                    maximum size is always signaled, resulting in at most two
                    dynamic table size updates.  This ensures that the decoder is
                    able to perform eviction based on reductions in dynamic
                    table size (see <a href="#entry.eviction" class="xref">Section 4.3</a>).<a href="#section-4.2-4" class="pilcrow">¶</a></p>
<p id="section-4.2-5">
                    This mechanism can be used to completely clear entries from
                    the dynamic table by setting a maximum size of 0, which can
                    subsequently be restored.<a href="#section-4.2-5" class="pilcrow">¶</a></p>
</section>
</div>
<div id="entry.eviction">
<section id="section-4.3">
        <h3 id="name-entry-eviction-when-dynamic">
<a href="#section-4.3" class="section-number selfRef">4.3. </a><a href="#name-entry-eviction-when-dynamic" class="section-name selfRef">Entry Eviction When Dynamic Table Size Changes</a>
        </h3>
<p id="section-4.3-1">
                    Whenever the maximum size for the dynamic table is reduced,
                    entries are evicted from the end of the dynamic table until
                    the size of the dynamic table is less than or equal to the
                    maximum size.<a href="#section-4.3-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="entry.addition">
<section id="section-4.4">
        <h3 id="name-entry-eviction-when-adding-">
<a href="#section-4.4" class="section-number selfRef">4.4. </a><a href="#name-entry-eviction-when-adding-" class="section-name selfRef">Entry Eviction When Adding New Entries</a>
        </h3>
<p id="section-4.4-1">
                    Before a new entry is added to the dynamic table, entries
                    are evicted from the end of the dynamic table until the size
                    of the dynamic table is less than or equal to (maximum size
                    - new entry size) or until the table is empty.<a href="#section-4.4-1" class="pilcrow">¶</a></p>
<p id="section-4.4-2">
                    If the size of the new entry is less than or equal to the
                    maximum size, that entry is added to the table.  It is not
                    an error to attempt to add an entry that is larger than the
                    maximum size; an attempt to add an entry larger than the
                    maximum size causes the table to be emptied of all existing
                    entries and results in an empty table.<a href="#section-4.4-2" class="pilcrow">¶</a></p>
<p id="section-4.4-3">
                    A new entry can reference the name of an entry in the
                    dynamic table that will be evicted when adding this new
                    entry into the dynamic table. Implementations are cautioned
                    to avoid deleting the referenced name if the referenced
                    entry is evicted from the dynamic table prior to inserting
                    the new entry.<a href="#section-4.4-3" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="low-level.representation">
<section id="section-5">
      <h2 id="name-primitive-type-representati">
<a href="#section-5" class="section-number selfRef">5. </a><a href="#name-primitive-type-representati" class="section-name selfRef">Primitive Type Representations</a>
      </h2>
<p id="section-5-1">
                HPACK encoding uses two primitive types: unsigned variable-length
                integers and strings of octets.<a href="#section-5-1" class="pilcrow">¶</a></p>
<div id="integer.representation">
<section id="section-5.1">
        <h3 id="name-integer-representation">
<a href="#section-5.1" class="section-number selfRef">5.1. </a><a href="#name-integer-representation" class="section-name selfRef">Integer Representation</a>
        </h3>
<p id="section-5.1-1">
                    Integers are used to represent name indexes, header field
                    indexes, or string lengths. An integer representation can
                    start anywhere within an octet. To allow for optimized
                    processing, an integer representation always finishes at the
                    end of an octet.<a href="#section-5.1-1" class="pilcrow">¶</a></p>
<p id="section-5.1-2">
                    An integer is represented in two parts: a prefix that fills
                    the current octet and an optional list of octets that are
                    used if the integer value does not fit within the prefix.
                    The number of bits of the prefix (called N) is a parameter
                    of the integer representation.<a href="#section-5.1-2" class="pilcrow">¶</a></p>
<p id="section-5.1-3">
                    If the integer value is small enough, i.e., strictly less
                    than 2<sup>N</sup>-1, it is encoded within the N-bit
                    prefix.<a href="#section-5.1-3" class="pilcrow">¶</a></p>
<span id="name-integer-value-encoded-withi"></span><div id="Integer.Value.Encoded.within.the.Prefix.shown.for.N.5">
<figure id="figure-2">
          <div class="alignLeft art-inline art-text artwork" id="section-5.1-4.1">
<pre>
  0   1   2   3   4   5   6   7
+---+---+---+---+---+---+---+---+
| ? | ? | ? |       Value       |
+---+---+---+-------------------+
</pre>
</div>
<figcaption><a href="#figure-2" class="selfRef">Figure 2</a>:
<a href="#name-integer-value-encoded-withi" class="selfRef">Integer Value Encoded within the Prefix (Shown for N = 5)</a>
          </figcaption></figure>
</div>
<p id="section-5.1-5">
                    Otherwise, all the bits of the prefix are set to 1, and the
                    value, decreased by 2<sup>N</sup>-1, is encoded using a
                    list of one or more octets. The most significant bit of each
                    octet is used as a continuation flag: its value is set to 1
                    except for the last octet in the list. The remaining bits of
                    the octets are used to encode the decreased value.<a href="#section-5.1-5" class="pilcrow">¶</a></p>
<span id="name-integer-value-encoded-after"></span><div id="Integer.Value.Encoded.after.the.Prefix.shown.for.N.5">
<figure id="figure-3">
          <div class="alignLeft art-inline art-text artwork" id="section-5.1-6.1">
<pre>
  0   1   2   3   4   5   6   7
+---+---+---+---+---+---+---+---+
| ? | ? | ? | 1   1   1   1   1 |
+---+---+---+-------------------+
| 1 |    Value-(2^N-1) LSB      |
+---+---------------------------+
               ...
+---+---------------------------+
| 0 |    Value-(2^N-1) MSB      |
+---+---------------------------+
</pre>
</div>
<figcaption><a href="#figure-3" class="selfRef">Figure 3</a>:
<a href="#name-integer-value-encoded-after" class="selfRef">Integer Value Encoded after the Prefix (Shown for N = 5)</a>
          </figcaption></figure>
</div>
<p id="section-5.1-7">
                    Decoding the integer value from the list of octets starts by
                    reversing the order of the octets in the list. Then, for
                    each octet, its most significant bit is removed. The
                    remaining bits of the octets are concatenated, and the
                    resulting value is increased by 2<sup>N</sup>-1 to
                    obtain the integer value.<a href="#section-5.1-7" class="pilcrow">¶</a></p>
<p id="section-5.1-8">
                    The prefix size, N, is always between 1 and 8 bits. An
                    integer starting at an octet boundary will have an 8-bit
                    prefix.<a href="#section-5.1-8" class="pilcrow">¶</a></p>
<p id="section-5.1-9" class="keepWithNext">
                        Pseudocode to represent an integer I is as follows:<a href="#section-5.1-9" class="pilcrow">¶</a></p>
<div class="alignLeft art-inline art-text artwork" id="section-5.1-10">
<pre>
if I &lt; 2^N - 1, encode I on N bits
else
    encode (2^N - 1) on N bits
    I = I - (2^N - 1)
    while I &gt;= 128
         encode (I % 128 + 128) on 8 bits
         I = I / 128
    encode I on 8 bits
</pre><a href="#section-5.1-10" class="pilcrow">¶</a>
</div>
<p id="section-5.1-11" class="keepWithNext">
                        Pseudocode to decode an integer I is as follows:<a href="#section-5.1-11" class="pilcrow">¶</a></p>
<div class="alignLeft art-inline art-text artwork" id="section-5.1-12">
<pre>
decode I from the next N bits
if I &lt; 2^N - 1, return I
else
    M = 0
    repeat
        B = next octet
        I = I + (B &amp; 127) * 2^M
        M = M + 7
    while B &amp; 128 == 128
    return I
</pre><a href="#section-5.1-12" class="pilcrow">¶</a>
</div>
<p id="section-5.1-13">
                    Examples illustrating the encoding of integers are available
                    in <a href="#integer.representation.examples" class="xref">Appendix C.1</a>.<a href="#section-5.1-13" class="pilcrow">¶</a></p>
<p id="section-5.1-14">
                    This integer representation allows for values of indefinite
                    size.  It is also possible for an encoder to send a large
                    number of zero values, which can waste octets and could be
                    used to overflow integer values.  Integer encodings that
                    exceed implementation limits -- in value or octet length --
                    MUST be treated as decoding errors.  Different limits can
                    be set for each of the different uses of integers, based on
                    implementation constraints.<a href="#section-5.1-14" class="pilcrow">¶</a></p>
</section>
</div>
<div id="string.literal.representation">
<section id="section-5.2">
        <h3 id="name-string-literal-representati">
<a href="#section-5.2" class="section-number selfRef">5.2. </a><a href="#name-string-literal-representati" class="section-name selfRef">String Literal Representation</a>
        </h3>
<p id="section-5.2-1">
                    Header field names and header field values can be
                    represented as string literals. A string literal is encoded
                    as a sequence of octets, either by directly encoding the
                    string literal's octets or by using a Huffman code
                    (see <span>[<a href="#HUFFMAN" class="xref">HUFFMAN</a>]</span>).<a href="#section-5.2-1" class="pilcrow">¶</a></p>
<span id="name-string-literal-representatio"></span><div id="String.Literal.Representation">
<figure id="figure-4">
          <div class="alignLeft art-inline art-text artwork" id="section-5.2-2.1">
<pre>
  0   1   2   3   4   5   6   7
+---+---+---+---+---+---+---+---+
| H |    String Length (7+)     |
+---+---------------------------+
|  String Data (Length octets)  |
+-------------------------------+
</pre>
</div>
<figcaption><a href="#figure-4" class="selfRef">Figure 4</a>:
<a href="#name-string-literal-representatio" class="selfRef">String Literal Representation</a>
          </figcaption></figure>
</div>
<p id="section-5.2-3">
                    A string literal representation contains the following
                    fields:<a href="#section-5.2-3" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-5.2-4">
          <dt id="section-5.2-4.1">H:</dt>
          <dd style="margin-left: 1.5em" id="section-5.2-4.2">
                            A one-bit flag, H, indicating whether or not the
                            octets of the string are Huffman encoded.<a href="#section-5.2-4.2" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-5.2-4.3">String Length:</dt>
          <dd style="margin-left: 1.5em" id="section-5.2-4.4">
                            The number of octets used to encode the string
                            literal, encoded as an integer with a 7-bit prefix
                            (see <a href="#integer.representation" class="xref">Section 5.1</a>).<a href="#section-5.2-4.4" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-5.2-4.5">String Data:</dt>
          <dd style="margin-left: 1.5em" id="section-5.2-4.6">
                            The encoded data of the string literal. If H is
                            '0', then the encoded data is the raw octets of
                            the string literal. If H is '1', then the
                            encoded data is the Huffman encoding of the
                            string literal.<a href="#section-5.2-4.6" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
<p id="section-5.2-5">
                    String literals that use Huffman encoding are encoded with
                    the Huffman code defined in <a href="#huffman.code" class="xref">Appendix B</a>
                    (see examples for requests in <a href="#request.examples.with.huffman.coding" class="xref">Appendix C.4</a> and for
                    responses in <a href="#response.examples.with.huffman.coding" class="xref">Appendix C.6</a>). The
                    encoded data is the bitwise concatenation of the codes
                    corresponding to each octet of the string literal.<a href="#section-5.2-5" class="pilcrow">¶</a></p>
<p id="section-5.2-6">
                    As the Huffman-encoded data doesn't always end at an octet
                    boundary, some padding is inserted after it, up to the next
                    octet boundary. To prevent this padding from being misinterpreted
                    as part of the string literal, the most significant bits of
                    the code corresponding to the EOS (end-of-string) symbol are
                    used.<a href="#section-5.2-6" class="pilcrow">¶</a></p>
<p id="section-5.2-7">
                    Upon decoding, an incomplete code at the end of the
                    encoded data is to be considered as padding and discarded. A
                    padding strictly longer than 7 bits MUST be treated as a
                    decoding error. A padding not corresponding to the most
                    significant bits of the code for the EOS symbol MUST be
                    treated as a decoding error. A Huffman-encoded string
                    literal containing the EOS symbol MUST be treated as a
                    decoding error.<a href="#section-5.2-7" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="detailed.format">
<section id="section-6">
      <h2 id="name-binary-format">
<a href="#section-6" class="section-number selfRef">6. </a><a href="#name-binary-format" class="section-name selfRef">Binary Format</a>
      </h2>
<p id="section-6-1">
                This section describes the detailed format of each of the
                different header field representations and the dynamic table
                size update instruction.<a href="#section-6-1" class="pilcrow">¶</a></p>
<div id="indexed.header.representation">
<section id="section-6.1">
        <h3 id="name-indexed-header-field-repres">
<a href="#section-6.1" class="section-number selfRef">6.1. </a><a href="#name-indexed-header-field-repres" class="section-name selfRef">Indexed Header Field Representation</a>
        </h3>
<p id="section-6.1-1">
                    An indexed header field representation identifies an entry
                    in either the static table or the dynamic table (see <a href="#indexing.tables" class="xref">Section 2.3</a>).<a href="#section-6.1-1" class="pilcrow">¶</a></p>
<p id="section-6.1-2">
                    An indexed header field representation causes a
                    header field to be added to the decoded header list, as
                    described in <a href="#header.representation.processing" class="xref">Section 3.2</a>.<a href="#section-6.1-2" class="pilcrow">¶</a></p>
<span id="name-indexed-header-field"></span><div id="Indexed.Header.Field">
<figure id="figure-5">
          <div class="alignLeft art-inline art-text artwork" id="section-6.1-3.1">
<pre>
  0   1   2   3   4   5   6   7
+---+---+---+---+---+---+---+---+
| 1 |        Index (7+)         |
+---+---------------------------+
</pre>
</div>
<figcaption><a href="#figure-5" class="selfRef">Figure 5</a>:
<a href="#name-indexed-header-field" class="selfRef">Indexed Header Field</a>
          </figcaption></figure>
</div>
<p id="section-6.1-4">
                    An indexed header field starts with the '1' 1-bit pattern,
                    followed by the index of the matching header field,
                    represented as an integer with a 7-bit prefix (see <a href="#integer.representation" class="xref">Section 5.1</a>).<a href="#section-6.1-4" class="pilcrow">¶</a></p>
<p id="section-6.1-5">
                    The index value of 0 is not used. It MUST be treated as a
                    decoding error if found in an indexed header field
                    representation.<a href="#section-6.1-5" class="pilcrow">¶</a></p>
</section>
</div>
<div id="literal.header.representation">
<section id="section-6.2">
        <h3 id="name-literal-header-field-repres">
<a href="#section-6.2" class="section-number selfRef">6.2. </a><a href="#name-literal-header-field-repres" class="section-name selfRef">Literal Header Field Representation</a>
        </h3>
<p id="section-6.2-1">
                    A literal header field representation contains a literal
                    header field value.  Header field names are provided either
                    as a literal or by reference to an existing table entry,
                    either from the static table or the dynamic table (see <a href="#indexing.tables" class="xref">Section 2.3</a>).<a href="#section-6.2-1" class="pilcrow">¶</a></p>
<p id="section-6.2-2">
                  This specification defines three forms of literal header
                  field representations: with indexing, without indexing,
                  and never indexed.<a href="#section-6.2-2" class="pilcrow">¶</a></p>
<div id="literal.header.with.incremental.indexing">
<section id="section-6.2.1">
          <h4 id="name-literal-header-field-with-i">
<a href="#section-6.2.1" class="section-number selfRef">6.2.1. </a><a href="#name-literal-header-field-with-i" class="section-name selfRef">Literal Header Field with Incremental Indexing</a>
          </h4>
<p id="section-6.2.1-1">
                        A literal header field with incremental indexing
                        representation results in appending a header field to
                        the decoded header list and inserting it as a new entry
                        into the dynamic table.<a href="#section-6.2.1-1" class="pilcrow">¶</a></p>
<span id="name-literal-header-field-with-in"></span><div id="Literal.Header.Field.with.Incremental.Indexing.Indexed.Name">
<figure id="figure-6">
            <div class="alignLeft art-inline art-text artwork" id="section-6.2.1-2.1">
<pre>
  0   1   2   3   4   5   6   7
+---+---+---+---+---+---+---+---+
| 0 | 1 |      Index (6+)       |
+---+---+-----------------------+
| H |     Value Length (7+)     |
+---+---------------------------+
| Value String (Length octets)  |
+-------------------------------+
</pre>
</div>
<figcaption><a href="#figure-6" class="selfRef">Figure 6</a>:
<a href="#name-literal-header-field-with-in" class="selfRef">Literal Header Field with Incremental Indexing -- Indexed Name</a>
            </figcaption></figure>
</div>
<span id="name-literal-header-field-with-inc"></span><div id="Literal.Header.Field.with.Incremental.Indexing.New.Name">
<figure id="figure-7">
            <div class="alignLeft art-inline art-text artwork" id="section-6.2.1-3.1">
<pre>
  0   1   2   3   4   5   6   7
+---+---+---+---+---+---+---+---+
| 0 | 1 |           0           |
+---+---+-----------------------+
| H |     Name Length (7+)      |
+---+---------------------------+
|  Name String (Length octets)  |
+---+---------------------------+
| H |     Value Length (7+)     |
+---+---------------------------+
| Value String (Length octets)  |
+-------------------------------+
</pre>
</div>
<figcaption><a href="#figure-7" class="selfRef">Figure 7</a>:
<a href="#name-literal-header-field-with-inc" class="selfRef">Literal Header Field with Incremental Indexing -- New Name</a>
            </figcaption></figure>
</div>
<p id="section-6.2.1-4">
                        A literal header field with incremental indexing
                        representation starts with the '01' 2-bit pattern.<a href="#section-6.2.1-4" class="pilcrow">¶</a></p>
<p id="section-6.2.1-5">
                        If the header field name matches the header field name
                        of an entry stored in the static table or the dynamic
                        table, the header field name can be represented using
                        the index of that entry. In this case, the index of the
                        entry is represented as an integer with a 6-bit prefix
                        (see <a href="#integer.representation" class="xref">Section 5.1</a>).  This
                        value is always non-zero.<a href="#section-6.2.1-5" class="pilcrow">¶</a></p>
<p id="section-6.2.1-6">
                        Otherwise, the header field name is represented as a
                        string literal (see <a href="#string.literal.representation" class="xref">Section 5.2</a>). A value
                        0 is used in place of the 6-bit index, followed by the
                        header field name.<a href="#section-6.2.1-6" class="pilcrow">¶</a></p>
<p id="section-6.2.1-7">
                        Either form of header field name representation is
                        followed by the header field value represented as a
                        string literal (see <a href="#string.literal.representation" class="xref">Section 5.2</a>).<a href="#section-6.2.1-7" class="pilcrow">¶</a></p>
</section>
</div>
<div id="literal.header.without.indexing">
<section id="section-6.2.2">
          <h4 id="name-literal-header-field-withou">
<a href="#section-6.2.2" class="section-number selfRef">6.2.2. </a><a href="#name-literal-header-field-withou" class="section-name selfRef">Literal Header Field without Indexing</a>
          </h4>
<p id="section-6.2.2-1">
                        A literal header field without indexing representation
                        results in appending a header field to the decoded
                        header list without altering the dynamic table.<a href="#section-6.2.2-1" class="pilcrow">¶</a></p>
<span id="name-literal-header-field-without"></span><div id="Literal.Header.Field.without.Indexing.Indexed.Name">
<figure id="figure-8">
            <div class="alignLeft art-inline art-text artwork" id="section-6.2.2-2.1">
<pre>
  0   1   2   3   4   5   6   7
+---+---+---+---+---+---+---+---+
| 0 | 0 | 0 | 0 |  Index (4+)   |
+---+---+-----------------------+
| H |     Value Length (7+)     |
+---+---------------------------+
| Value String (Length octets)  |
+-------------------------------+
</pre>
</div>
<figcaption><a href="#figure-8" class="selfRef">Figure 8</a>:
<a href="#name-literal-header-field-without" class="selfRef">Literal Header Field without Indexing -- Indexed Name</a>
            </figcaption></figure>
</div>
<span id="name-literal-header-field-without-"></span><div id="Literal.Header.Field.without.Indexing.New.Name">
<figure id="figure-9">
            <div class="alignLeft art-inline art-text artwork" id="section-6.2.2-3.1">
<pre>
  0   1   2   3   4   5   6   7
+---+---+---+---+---+---+---+---+
| 0 | 0 | 0 | 0 |       0       |
+---+---+-----------------------+
| H |     Name Length (7+)      |
+---+---------------------------+
|  Name String (Length octets)  |
+---+---------------------------+
| H |     Value Length (7+)     |
+---+---------------------------+
| Value String (Length octets)  |
+-------------------------------+
</pre>
</div>
<figcaption><a href="#figure-9" class="selfRef">Figure 9</a>:
<a href="#name-literal-header-field-without-" class="selfRef">Literal Header Field without Indexing -- New Name</a>
            </figcaption></figure>
</div>
<p id="section-6.2.2-4">
                        A literal header field without indexing representation
                        starts with the '0000' 4-bit pattern.<a href="#section-6.2.2-4" class="pilcrow">¶</a></p>
<p id="section-6.2.2-5">
                        If the header field name matches the header field name
                        of an entry stored in the static table or the dynamic
                        table, the header field name can be represented using
                        the index of that entry. In this case, the index of the
                        entry is represented as an integer with a 4-bit prefix
                        (see <a href="#integer.representation" class="xref">Section 5.1</a>).  This
                        value is always non-zero.<a href="#section-6.2.2-5" class="pilcrow">¶</a></p>
<p id="section-6.2.2-6">
                        Otherwise, the header field name is represented as a
                        string literal (see <a href="#string.literal.representation" class="xref">Section 5.2</a>). A value
                        0 is used in place of the 4-bit index, followed by the
                        header field name.<a href="#section-6.2.2-6" class="pilcrow">¶</a></p>
<p id="section-6.2.2-7">
                        Either form of header field name representation is
                        followed by the header field value represented as a
                        string literal (see <a href="#string.literal.representation" class="xref">Section 5.2</a>).<a href="#section-6.2.2-7" class="pilcrow">¶</a></p>
</section>
</div>
<div id="literal.header.never.indexed">
<section id="section-6.2.3">
          <h4 id="name-literal-header-field-never-">
<a href="#section-6.2.3" class="section-number selfRef">6.2.3. </a><a href="#name-literal-header-field-never-" class="section-name selfRef">Literal Header Field Never Indexed</a>
          </h4>
<p id="section-6.2.3-1">
                        A literal header field never-indexed representation
                        results in appending a header field to the decoded
                        header list without altering the dynamic table.
                        Intermediaries MUST use the same representation for
                        encoding this header field.<a href="#section-6.2.3-1" class="pilcrow">¶</a></p>
<span id="name-literal-header-field-never-i"></span><div id="Literal.Header.Field.never.Indexed.Indexed.Name">
<figure id="figure-10">
            <div class="alignLeft art-inline art-text artwork" id="section-6.2.3-2.1">
<pre>
  0   1   2   3   4   5   6   7
+---+---+---+---+---+---+---+---+
| 0 | 0 | 0 | 1 |  Index (4+)   |
+---+---+-----------------------+
| H |     Value Length (7+)     |
+---+---------------------------+
| Value String (Length octets)  |
+-------------------------------+
</pre>
</div>
<figcaption><a href="#figure-10" class="selfRef">Figure 10</a>:
<a href="#name-literal-header-field-never-i" class="selfRef">Literal Header Field Never Indexed -- Indexed Name</a>
            </figcaption></figure>
</div>
<span id="name-literal-header-field-never-in"></span><div id="Literal.Header.Field.never.Indexed.New.Name">
<figure id="figure-11">
            <div class="alignLeft art-inline art-text artwork" id="section-6.2.3-3.1">
<pre>
  0   1   2   3   4   5   6   7
+---+---+---+---+---+---+---+---+
| 0 | 0 | 0 | 1 |       0       |
+---+---+-----------------------+
| H |     Name Length (7+)      |
+---+---------------------------+
|  Name String (Length octets)  |
+---+---------------------------+
| H |     Value Length (7+)     |
+---+---------------------------+
| Value String (Length octets)  |
+-------------------------------+
</pre>
</div>
<figcaption><a href="#figure-11" class="selfRef">Figure 11</a>:
<a href="#name-literal-header-field-never-in" class="selfRef">Literal Header Field Never Indexed -- New Name</a>
            </figcaption></figure>
</div>
<p id="section-6.2.3-4">
                        A literal header field never-indexed representation
                        starts with the '0001' 4-bit pattern.<a href="#section-6.2.3-4" class="pilcrow">¶</a></p>
<p id="section-6.2.3-5">
                        When a header field is represented as a literal header
                        field never indexed, it MUST always be encoded with
                        this specific literal representation. In particular,
                        when a peer sends a header field that it received
                        represented as a literal header field never indexed, it
                        MUST use the same representation to forward this header
                        field.<a href="#section-6.2.3-5" class="pilcrow">¶</a></p>
<p id="section-6.2.3-6">
                        This representation is intended for protecting header
                        field values that are not to be put at risk by
                        compressing them (see <a href="#compression.based.attacks" class="xref">Section 7.1</a> for more details).<a href="#section-6.2.3-6" class="pilcrow">¶</a></p>
<p id="section-6.2.3-7">
                        The encoding of the representation is identical to the
                        literal header field without indexing
                        (see <a href="#literal.header.without.indexing" class="xref">Section 6.2.2</a>).<a href="#section-6.2.3-7" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="encoding.context.update">
<section id="section-6.3">
        <h3 id="name-dynamic-table-size-update">
<a href="#section-6.3" class="section-number selfRef">6.3. </a><a href="#name-dynamic-table-size-update" class="section-name selfRef">Dynamic Table Size Update</a>
        </h3>
<p id="section-6.3-1">
                    A dynamic table size update signals a change to the size of
                    the dynamic table.<a href="#section-6.3-1" class="pilcrow">¶</a></p>
<span id="name-maximum-dynamic-table-size-"></span><div id="Maximum.Dynamic.Table.Size.Change">
<figure id="figure-12">
          <div class="alignLeft art-inline art-text artwork" id="section-6.3-2.1">
<pre>
  0   1   2   3   4   5   6   7
+---+---+---+---+---+---+---+---+
| 0 | 0 | 1 |   Max size (5+)   |
+---+---------------------------+
</pre>
</div>
<figcaption><a href="#figure-12" class="selfRef">Figure 12</a>:
<a href="#name-maximum-dynamic-table-size-" class="selfRef">Maximum Dynamic Table Size Change</a>
          </figcaption></figure>
</div>
<p id="section-6.3-3">
                    A dynamic table size update starts with the '001' 3-bit
                    pattern, followed by the new maximum size, represented as an
                    integer with a 5-bit prefix (see <a href="#integer.representation" class="xref">Section 5.1</a>).<a href="#section-6.3-3" class="pilcrow">¶</a></p>
<p id="section-6.3-4">
                    The new maximum size MUST be lower than or equal to the
                    limit determined by the protocol using HPACK. A value that
                    exceeds this limit MUST be treated as a decoding error. In
                    HTTP/2, this limit is the last value of the
                    SETTINGS_HEADER_TABLE_SIZE parameter (see <span>[<a href="#HTTP2" class="xref">HTTP2</a>]</span>)
                    received from the decoder and acknowledged by the encoder
                    (see <span>[<a href="#HTTP2" class="xref">HTTP2</a>]</span>).<a href="#section-6.3-4" class="pilcrow">¶</a></p>
<p id="section-6.3-5">
                    Reducing the maximum size of the dynamic table can cause
                    entries to be evicted (see <a href="#entry.eviction" class="xref">Section 4.3</a>).<a href="#section-6.3-5" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="Security">
<section id="section-7">
      <h2 id="name-security-considerations">
<a href="#section-7" class="section-number selfRef">7. </a><a href="#name-security-considerations" class="section-name selfRef">Security Considerations</a>
      </h2>
<p id="section-7-1">
                This section describes potential areas of security concern
                with HPACK:<a href="#section-7-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-7-2.1">
                        Use of compression as a length-based oracle for
                        verifying guesses about secrets that are compressed
                        into a shared compression context.<a href="#section-7-2.1" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-7-2.2">
                        Denial of service resulting from exhausting processing
                        or memory capacity at a decoder.<a href="#section-7-2.2" class="pilcrow">¶</a>
</li>
      </ul>
<div id="compression.based.attacks">
<section id="section-7.1">
        <h3 id="name-probing-dynamic-table-state">
<a href="#section-7.1" class="section-number selfRef">7.1. </a><a href="#name-probing-dynamic-table-state" class="section-name selfRef">Probing Dynamic Table State</a>
        </h3>
<p id="section-7.1-1">
                    HPACK reduces the length of header field encodings by
                    exploiting the redundancy inherent in protocols like HTTP.
                    The ultimate goal of this is to reduce the amount of data
                    that is required to send HTTP requests or responses.<a href="#section-7.1-1" class="pilcrow">¶</a></p>
<p id="section-7.1-2">
                    The compression context used to encode header fields can be
                    probed by an attacker who can both define header fields to
                    be encoded and transmitted and observe the length of those
                    fields once they are encoded. When an attacker can do both,
                    they can adaptively modify requests in order to confirm
                    guesses about the dynamic table state. If a guess is
                    compressed into a shorter length, the attacker can observe
                    the encoded length and infer that the guess was correct.<a href="#section-7.1-2" class="pilcrow">¶</a></p>
<p id="section-7.1-3">
                    This is possible even over the Transport Layer Security
                    (TLS) protocol (see <span>[<a href="#TLS12" class="xref">TLS12</a>]</span>), because while
                    TLS provides confidentiality protection for content, it only
                    provides a limited amount of protection for the length of
                    that content.<a href="#section-7.1-3" class="pilcrow">¶</a></p>
<aside id="section-7.1-4">
          <p id="section-7.1-4.1">
                    <strong>Note:</strong>
                    Padding schemes only provide limited protection
                    against an attacker with these capabilities,
                    potentially only forcing an increased number of
                    guesses to learn the length associated with a given
                    guess.  Padding schemes also work directly against
                    compression by increasing the number of bits that
                    are transmitted.<a href="#section-7.1-4.1" class="pilcrow">¶</a></p>
</aside>
<p id="section-7.1-5">
                    Attacks like <span><a href="#CRIME" class="xref">CRIME</a> [<a href="#CRIME" class="xref">CRIME</a>]</span> demonstrated
                    the existence of these general attacker capabilities.  The
                    specific attack exploited the fact that <span><a href="#DEFLATE" class="xref">DEFLATE</a> [<a href="#DEFLATE" class="xref">DEFLATE</a>]</span> removes redundancy based
                    on prefix matching.  This permitted the attacker to confirm
                    guesses a character at a time, reducing an exponential-time
                    attack into a linear-time attack.<a href="#section-7.1-5" class="pilcrow">¶</a></p>
<section id="section-7.1.1">
          <h4 id="name-applicability-to-hpack-and-">
<a href="#section-7.1.1" class="section-number selfRef">7.1.1. </a><a href="#name-applicability-to-hpack-and-" class="section-name selfRef">Applicability to HPACK and HTTP</a>
          </h4>
<p id="section-7.1.1-1">
                        HPACK mitigates but does not completely prevent attacks
                        modeled on <span><a href="#CRIME" class="xref">CRIME</a> [<a href="#CRIME" class="xref">CRIME</a>]</span> by forcing
                        a guess to match an entire header field value rather
                        than individual characters.  Attackers can only learn
                        whether a guess is correct or not, so they are reduced to
                        brute-force guesses for the header field values.<a href="#section-7.1.1-1" class="pilcrow">¶</a></p>
<p id="section-7.1.1-2">
                        The viability of recovering specific header field values
                        therefore depends on the entropy of values.  As a
                        result, values with high entropy are unlikely to be
                        recovered successfully.  However, values with low
                        entropy remain vulnerable.<a href="#section-7.1.1-2" class="pilcrow">¶</a></p>
<p id="section-7.1.1-3">
                        Attacks of this nature are possible any time that two
                        mutually distrustful entities control requests or
                        responses that are placed onto a single HTTP/2
                        connection.  If the shared HPACK compressor permits one
                        entity to add entries to the dynamic table and the
                        other to access those entries, then the state of the
                        table can be learned.<a href="#section-7.1.1-3" class="pilcrow">¶</a></p>
<p id="section-7.1.1-4">
                        Having requests or responses from mutually distrustful
                        entities occurs when an intermediary either:<a href="#section-7.1.1-4" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-7.1.1-5.1">
                                sends requests from multiple clients on a single
                                connection toward an origin server, or<a href="#section-7.1.1-5.1" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-7.1.1-5.2">
                                takes responses from multiple origin servers and
                                places them on a shared connection toward a
                                client.<a href="#section-7.1.1-5.2" class="pilcrow">¶</a>
</li>
          </ul>
<p id="section-7.1.1-6">
                        Web browsers also need to assume that requests made on
                        the same connection by different <span><a href="#ORIGIN" class="xref">web origins</a> [<a href="#ORIGIN" class="xref">ORIGIN</a>]</span> are made by mutually
                        distrustful entities.<a href="#section-7.1.1-6" class="pilcrow">¶</a></p>
</section>
<section id="section-7.1.2">
          <h4 id="name-mitigation">
<a href="#section-7.1.2" class="section-number selfRef">7.1.2. </a><a href="#name-mitigation" class="section-name selfRef">Mitigation</a>
          </h4>
<p id="section-7.1.2-1">
                        Users of HTTP that require confidentiality for header
                        fields can use values with entropy sufficient to make
                        guessing infeasible.  However, this is impractical as a
                        general solution because it forces all users of HTTP to
                        take steps to mitigate attacks.  It would impose new
                        constraints on how HTTP is used.<a href="#section-7.1.2-1" class="pilcrow">¶</a></p>
<p id="section-7.1.2-2">
                        Rather than impose constraints on users of HTTP, an
                        implementation of HPACK can instead constrain how
                        compression is applied in order to limit the potential
                        for dynamic table probing.<a href="#section-7.1.2-2" class="pilcrow">¶</a></p>
<p id="section-7.1.2-3">
                        An ideal solution segregates access to the dynamic table
                        based on the entity that is constructing header fields.
                        Header field values that are added to the table are
                        attributed to an entity, and only the entity that
                        created a particular value can extract that value.<a href="#section-7.1.2-3" class="pilcrow">¶</a></p>
<p id="section-7.1.2-4">
                        To improve compression performance of this option,
                        certain entries might be tagged as being public.  For
                        example, a web browser might make the values of the
                        Accept-Encoding header field available in all requests.<a href="#section-7.1.2-4" class="pilcrow">¶</a></p>
<p id="section-7.1.2-5">
                        An encoder without good knowledge of the provenance of
                        header fields might instead introduce a penalty for
                        a header field with many different values, such that a
                        large number of attempts to guess a header field
                        value results in the header field no longer being compared
                        to the dynamic table entries in future messages,
                        effectively preventing further guesses.<a href="#section-7.1.2-5" class="pilcrow">¶</a></p>
<aside id="section-7.1.2-6">
            <p id="section-7.1.2-6.1">
                        <strong>Note:</strong>
                        Simply removing entries corresponding to the
                        header field from the dynamic table
                        can be ineffectual if the attacker has a
                        reliable way of causing values to be
                        reinstalled.  For example, a request to load an
                        image in a web browser typically includes the
                        Cookie header field (a potentially highly valued
                        target for this sort of attack), and web sites
                        can easily force an image to be loaded, thereby
                        refreshing the entry in the dynamic table.<a href="#section-7.1.2-6.1" class="pilcrow">¶</a></p>
</aside>
<p id="section-7.1.2-7">
                        This response might be made inversely proportional to
                        the length of the header field value.  Marking a header
                        field as not using the dynamic table anymore
                        might occur for shorter values more quickly
                        or with higher probability than for longer values.<a href="#section-7.1.2-7" class="pilcrow">¶</a></p>
</section>
<div id="never.indexed.literals">
<section id="section-7.1.3">
          <h4 id="name-never-indexed-literals">
<a href="#section-7.1.3" class="section-number selfRef">7.1.3. </a><a href="#name-never-indexed-literals" class="section-name selfRef">Never-Indexed Literals</a>
          </h4>
<p id="section-7.1.3-1">
                        Implementations can also choose to protect sensitive
                        header fields by not compressing them and instead
                        encoding their value as literals.<a href="#section-7.1.3-1" class="pilcrow">¶</a></p>
<p id="section-7.1.3-2">
                        Refusing to generate an indexed representation for a
                        header field is only effective if compression is avoided
                        on all hops.  The never-indexed literal (see <a href="#literal.header.never.indexed" class="xref">Section 6.2.3</a>) can be used
                        to signal to intermediaries that a particular value was
                        intentionally sent as a literal.<a href="#section-7.1.3-2" class="pilcrow">¶</a></p>
<p id="section-7.1.3-3">
                        An intermediary MUST NOT re-encode a value that uses the
                        never-indexed literal representation with another
                        representation that would index it. If HPACK is used
                        for re-encoding, the never-indexed literal
                        representation MUST be used.<a href="#section-7.1.3-3" class="pilcrow">¶</a></p>
<p id="section-7.1.3-4">
                        The choice to use a never-indexed literal representation
                        for a header field depends on several factors. Since
                        HPACK doesn't protect against guessing an entire header
                        field value, short or low-entropy values are more
                        readily recovered by an adversary. Therefore, an encoder
                        might choose not to index values with low entropy.<a href="#section-7.1.3-4" class="pilcrow">¶</a></p>
<p id="section-7.1.3-5">
                        An encoder might also choose not to index values for
                        header fields that are considered to be highly valuable
                        or sensitive to recovery, such as the Cookie or
                        Authorization header fields.<a href="#section-7.1.3-5" class="pilcrow">¶</a></p>
<p id="section-7.1.3-6">
                        On the contrary, an encoder might prefer indexing values
                        for header fields that have little or no value if they
                        were exposed. For instance, a User-Agent header field
                        does not commonly vary between requests and is sent to
                        any server. In that case, confirmation that a particular
                        User-Agent value has been used provides little value.<a href="#section-7.1.3-6" class="pilcrow">¶</a></p>
<p id="section-7.1.3-7">
                        Note that these criteria for deciding to use a never-indexed
                        literal representation will evolve over time as
                        new attacks are discovered.<a href="#section-7.1.3-7" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<section id="section-7.2">
        <h3 id="name-static-huffman-encoding">
<a href="#section-7.2" class="section-number selfRef">7.2. </a><a href="#name-static-huffman-encoding" class="section-name selfRef">Static Huffman Encoding</a>
        </h3>
<p id="section-7.2-1">
                    There is no currently known attack against a static Huffman
                    encoding. A study has shown that using a static Huffman
                    encoding table created an information leakage; however, this
                    same study concluded that an attacker could not take
                    advantage of this information leakage to recover any
                    meaningful amount of information (see <span>[<a href="#PETAL" class="xref">PETAL</a>]</span>).<a href="#section-7.2-1" class="pilcrow">¶</a></p>
</section>
<section id="section-7.3">
        <h3 id="name-memory-consumption">
<a href="#section-7.3" class="section-number selfRef">7.3. </a><a href="#name-memory-consumption" class="section-name selfRef">Memory Consumption</a>
        </h3>
<p id="section-7.3-1">
                    An attacker can try to cause an endpoint to exhaust its
                    memory. HPACK is designed to limit both the peak and state
                    amounts of memory allocated by an endpoint.<a href="#section-7.3-1" class="pilcrow">¶</a></p>
<p id="section-7.3-2">
                    The amount of memory used by the compressor is limited by
                    the protocol using HPACK through the definition of the
                    maximum size of the dynamic table.
                    In HTTP/2, this value is controlled by the decoder through
                    the setting parameter SETTINGS_HEADER_TABLE_SIZE (see <span>[<a href="#HTTP2" class="xref">HTTP2</a>]</span>).
                    This limit takes into account both the size of the data
                    stored in the dynamic table, plus a small allowance for
                    overhead.<a href="#section-7.3-2" class="pilcrow">¶</a></p>
<p id="section-7.3-3">
                    A decoder can limit the amount of state memory used by
                    setting an appropriate value for the maximum size of the
                    dynamic table. In HTTP/2, this is realized by setting an
                    appropriate value for the SETTINGS_HEADER_TABLE_SIZE
                    parameter.  An encoder can limit the amount of state memory
                    it uses by signaling a lower dynamic table size than the
                    decoder allows (see <a href="#encoding.context.update" class="xref">Section 6.3</a>).<a href="#section-7.3-3" class="pilcrow">¶</a></p>
<p id="section-7.3-4">
                    The amount of temporary memory consumed by an encoder or
                    decoder can be limited by processing header fields
                    sequentially.  An implementation does not need to retain a
                    complete list of header fields.  Note, however, that it might
                    be necessary for an application to retain a complete header
                    list for other reasons; even though HPACK does not force
                    this to occur, application constraints might make this
                    necessary.<a href="#section-7.3-4" class="pilcrow">¶</a></p>
</section>
<section id="section-7.4">
        <h3 id="name-implementation-limits">
<a href="#section-7.4" class="section-number selfRef">7.4. </a><a href="#name-implementation-limits" class="section-name selfRef">Implementation Limits</a>
        </h3>
<p id="section-7.4-1">
                    An implementation of HPACK needs to ensure that large values
                    for integers, long encoding for integers, or long string
                    literals do not create security weaknesses.<a href="#section-7.4-1" class="pilcrow">¶</a></p>
<p id="section-7.4-2">
                    An implementation has to set a limit for the values it
                    accepts for integers, as well as for the encoded length (see
                    <a href="#integer.representation" class="xref">Section 5.1</a>).  In the same way,
                    it has to set a limit to the length it accepts for string
                    literals (see <a href="#string.literal.representation" class="xref">Section 5.2</a>).<a href="#section-7.4-2" class="pilcrow">¶</a></p>
</section>
</section>
</div>
<section id="section-8">
      <h2 id="name-references">
<a href="#section-8" class="section-number selfRef">8. </a><a href="#name-references" class="section-name selfRef">References</a>
      </h2>
<section id="section-8.1">
        <h3 id="name-normative-references">
<a href="#section-8.1" class="section-number selfRef">8.1. </a><a href="#name-normative-references" class="section-name selfRef">Normative References</a>
        </h3>
<dl class="references">
<dt id="HTTP2">[HTTP2]</dt>
        <dd>
<span class="refAuthor">Belshe, M.</span>, <span class="refAuthor">Peon, R.</span>, and <span class="refAuthor">M. Thomson, Ed.</span>, <span class="refTitle">"Hypertext Transfer Protocol Version 2 (HTTP/2)"</span>, <span class="seriesInfo">RFC 7540</span>, <time datetime="2015-05" class="refDate">May 2015</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc7540">https://www.rfc-editor.org/rfc/rfc7540</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC2119">[RFC2119]</dt>
        <dd>
<span class="refAuthor">Bradner, S.</span>, <span class="refTitle">"Key words for use in RFCs to Indicate Requirement Levels"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 2119</span>, <time datetime="1997-03" class="refDate">March 1997</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc2119">https://www.rfc-editor.org/rfc/rfc2119</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7230">[RFC7230]</dt>
      <dd>
<span class="refAuthor">Fielding, R., Ed.</span> and <span class="refAuthor">J. F. Reschke, Ed.</span>, <span class="refTitle">"Hypertext Transfer Protocol (HTTP/1.1): Message Syntax and Routing"</span>, <span class="seriesInfo">RFC 7230</span>, <time datetime="2014-06" class="refDate">June 2014</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc7230">https://www.rfc-editor.org/rfc/rfc7230</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
<section id="section-8.2">
        <h3 id="name-informative-references">
<a href="#section-8.2" class="section-number selfRef">8.2. </a><a href="#name-informative-references" class="section-name selfRef">Informative References</a>
        </h3>
<dl class="references">
<dt id="CANONICAL">[CANONICAL]</dt>
        <dd>
<span class="refAuthor">Schwartz, E. S.</span> and <span class="refAuthor">B. Kallick</span>, <span class="refTitle">"Generating a canonical prefix encoding"</span>, <span class="seriesInfo">Communications of the ACM, Volume 7 Issue 3, pp. 166-169</span>, <time datetime="1964-03" class="refDate">March 1964</time>, <span>&lt;<a href="https://dl.acm.org/citation.cfm?id=363991">https://dl.acm.org/citation.cfm?id=363991</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="CRIME">[CRIME]</dt>
        <dd>
<span class="refAuthor">Wikipedia</span>, <span class="refTitle">"CRIME"</span>, <time datetime="2015-05" class="refDate">May 2015</time>, <span>&lt;<a href="http://en.wikipedia.org/w/index.php?title=CRIME&amp;oldid=660948120">http://en.wikipedia.org/w/index.php?title=CRIME&amp;oldid=660948120</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="DEFLATE">[DEFLATE]</dt>
        <dd>
<span class="refAuthor">Deutsch, P.</span>, <span class="refTitle">"DEFLATE Compressed Data Format Specification version 1.3"</span>, <span class="seriesInfo">RFC 1951</span>, <time datetime="1996-05" class="refDate">May 1996</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc1951">https://www.rfc-editor.org/rfc/rfc1951</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="HUFFMAN">[HUFFMAN]</dt>
        <dd>
<span class="refAuthor">Huffman, D. A.</span>, <span class="refTitle">"A Method for the Construction of Minimum-Redundancy Codes"</span>, <span class="seriesInfo">Proceedings of the Institute of Radio Engineers, Volume 40, Number 9, pp. 1098-1101</span>, <time datetime="1952-09" class="refDate">September 1952</time>, <span>&lt;<a href="http://ieeexplore.ieee.org/xpl/articleDetails.jsp?arnumber=4051119">http://ieeexplore.ieee.org/xpl/articleDetails.jsp?arnumber=4051119</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="ORIGIN">[ORIGIN]</dt>
        <dd>
<span class="refAuthor">Barth, A.</span>, <span class="refTitle">"The Web Origin Concept"</span>, <span class="seriesInfo">RFC 6454</span>, <time datetime="2011-12" class="refDate">December 2011</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc6454">https://www.rfc-editor.org/rfc/rfc6454</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="PETAL">[PETAL]</dt>
        <dd>
<span class="refAuthor">Tan, J.</span> and <span class="refAuthor">J. Nahata</span>, <span class="refTitle">"PETAL: Preset Encoding Table Information Leakage"</span>, <time datetime="2013-04" class="refDate">April 2013</time>, <span>&lt;<a href="http://www.pdl.cmu.edu/PDL-FTP/associated/CMU-PDL-13-106.pdf">http://www.pdl.cmu.edu/PDL-FTP/associated/CMU-PDL-13-106.pdf</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="SPDY">[SPDY]</dt>
        <dd>
<span class="refAuthor">Belshe, M.</span> and <span class="refAuthor">R. Peon</span>, <span class="refTitle">"SPDY Protocol"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-mbelshe-httpbis-spdy-00</span>, <time datetime="2012-02" class="refDate">February 2012</time>, <span>&lt;<a href="https://datatracker.ietf.org/doc/html/draft-mbelshe-httpbis-spdy-00">https://datatracker.ietf.org/doc/html/draft-mbelshe-httpbis-spdy-00</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="TLS12">[TLS12]</dt>
      <dd>
<span class="refAuthor">Dierks, T.</span> and <span class="refAuthor">E. Rescorla</span>, <span class="refTitle">"The Transport Layer Security (TLS) Protocol Version 1.2"</span>, <span class="seriesInfo">RFC 5246</span>, <time datetime="2008-08" class="refDate">August 2008</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc5246">https://www.rfc-editor.org/rfc/rfc5246</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
</section>
<div id="static.table.definition">
<section id="appendix-A">
      <h2 id="name-static-table-definition">
<a href="#appendix-A" class="section-number selfRef">Appendix A. </a><a href="#name-static-table-definition" class="section-name selfRef">Static Table Definition</a>
      </h2>
<p id="appendix-A-1">
                The static table (see <a href="#static.table" class="xref">Section 2.3.1</a>) consists in
                a predefined and unchangeable list of header fields.<a href="#appendix-A-1" class="pilcrow">¶</a></p>
<p id="appendix-A-2">
                The static table was created from the most frequent header
                fields used by popular web sites, with the addition of
                HTTP/2-specific pseudo-header fields (see <span>[<a href="#HTTP2" class="xref">HTTP2</a>]</span>).
                For header fields with a few frequent
                values, an entry was added for each of these frequent values.
                For other header fields, an entry was added with an empty
                value.<a href="#appendix-A-2" class="pilcrow">¶</a></p>
<p id="appendix-A-3">
                <a href="#static.table.entries" class="xref">Table 1</a> lists the predefined header fields that
                make up the static table and gives the index of each entry.<a href="#appendix-A-3" class="pilcrow">¶</a></p>
<span id="name-static-table-entries"></span><div id="static.table.entries">
<table class="center" id="table-1">
        <caption>
<a href="#table-1" class="selfRef">Table 1</a>:
<a href="#name-static-table-entries" class="selfRef">Static Table Entries</a>
        </caption>
<thead>
          <tr>
            <th class="text-left" rowspan="1" colspan="1">Index</th>
            <th class="text-left" rowspan="1" colspan="1">Header Name</th>
            <th class="text-left" rowspan="1" colspan="1">Header Value</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">1</td>
            <td class="text-left" rowspan="1" colspan="1">:authority</td>
            <td class="text-left" rowspan="1" colspan="1"></td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">2</td>
            <td class="text-left" rowspan="1" colspan="1">:method</td>
            <td class="text-left" rowspan="1" colspan="1">GET</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">3</td>
            <td class="text-left" rowspan="1" colspan="1">:method</td>
            <td class="text-left" rowspan="1" colspan="1">POST</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">4</td>
            <td class="text-left" rowspan="1" colspan="1">:path</td>
            <td class="text-left" rowspan="1" colspan="1">/</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">5</td>
            <td class="text-left" rowspan="1" colspan="1">:path</td>
            <td class="text-left" rowspan="1" colspan="1">/index.html</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">6</td>
            <td class="text-left" rowspan="1" colspan="1">:scheme</td>
            <td class="text-left" rowspan="1" colspan="1">http</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">7</td>
            <td class="text-left" rowspan="1" colspan="1">:scheme</td>
            <td class="text-left" rowspan="1" colspan="1">https</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">8</td>
            <td class="text-left" rowspan="1" colspan="1">:status</td>
            <td class="text-left" rowspan="1" colspan="1">200</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">9</td>
            <td class="text-left" rowspan="1" colspan="1">:status</td>
            <td class="text-left" rowspan="1" colspan="1">204</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">10</td>
            <td class="text-left" rowspan="1" colspan="1">:status</td>
            <td class="text-left" rowspan="1" colspan="1">206</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">11</td>
            <td class="text-left" rowspan="1" colspan="1">:status</td>
            <td class="text-left" rowspan="1" colspan="1">304</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">12</td>
            <td class="text-left" rowspan="1" colspan="1">:status</td>
            <td class="text-left" rowspan="1" colspan="1">400</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">13</td>
            <td class="text-left" rowspan="1" colspan="1">:status</td>
            <td class="text-left" rowspan="1" colspan="1">404</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">14</td>
            <td class="text-left" rowspan="1" colspan="1">:status</td>
            <td class="text-left" rowspan="1" colspan="1">500</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">15</td>
            <td class="text-left" rowspan="1" colspan="1">accept-charset</td>
            <td class="text-left" rowspan="1" colspan="1"></td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">16</td>
            <td class="text-left" rowspan="1" colspan="1">accept-encoding</td>
            <td class="text-left" rowspan="1" colspan="1">gzip, deflate</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">17</td>
            <td class="text-left" rowspan="1" colspan="1">accept-language</td>
            <td class="text-left" rowspan="1" colspan="1"></td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">18</td>
            <td class="text-left" rowspan="1" colspan="1">accept-ranges</td>
            <td class="text-left" rowspan="1" colspan="1"></td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">19</td>
            <td class="text-left" rowspan="1" colspan="1">accept</td>
            <td class="text-left" rowspan="1" colspan="1"></td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">20</td>
            <td class="text-left" rowspan="1" colspan="1">access-control-allow-origin</td>
            <td class="text-left" rowspan="1" colspan="1"></td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">21</td>
            <td class="text-left" rowspan="1" colspan="1">age</td>
            <td class="text-left" rowspan="1" colspan="1"></td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">22</td>
            <td class="text-left" rowspan="1" colspan="1">allow</td>
            <td class="text-left" rowspan="1" colspan="1"></td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">23</td>
            <td class="text-left" rowspan="1" colspan="1">authorization</td>
            <td class="text-left" rowspan="1" colspan="1"></td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">24</td>
            <td class="text-left" rowspan="1" colspan="1">cache-control</td>
            <td class="text-left" rowspan="1" colspan="1"></td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">25</td>
            <td class="text-left" rowspan="1" colspan="1">content-disposition</td>
            <td class="text-left" rowspan="1" colspan="1"></td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">26</td>
            <td class="text-left" rowspan="1" colspan="1">content-encoding</td>
            <td class="text-left" rowspan="1" colspan="1"></td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">27</td>
            <td class="text-left" rowspan="1" colspan="1">content-language</td>
            <td class="text-left" rowspan="1" colspan="1"></td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">28</td>
            <td class="text-left" rowspan="1" colspan="1">content-length</td>
            <td class="text-left" rowspan="1" colspan="1"></td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">29</td>
            <td class="text-left" rowspan="1" colspan="1">content-location</td>
            <td class="text-left" rowspan="1" colspan="1"></td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">30</td>
            <td class="text-left" rowspan="1" colspan="1">content-range</td>
            <td class="text-left" rowspan="1" colspan="1"></td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">31</td>
            <td class="text-left" rowspan="1" colspan="1">content-type</td>
            <td class="text-left" rowspan="1" colspan="1"></td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">32</td>
            <td class="text-left" rowspan="1" colspan="1">cookie</td>
            <td class="text-left" rowspan="1" colspan="1"></td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">33</td>
            <td class="text-left" rowspan="1" colspan="1">date</td>
            <td class="text-left" rowspan="1" colspan="1"></td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">34</td>
            <td class="text-left" rowspan="1" colspan="1">etag</td>
            <td class="text-left" rowspan="1" colspan="1"></td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">35</td>
            <td class="text-left" rowspan="1" colspan="1">expect</td>
            <td class="text-left" rowspan="1" colspan="1"></td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">36</td>
            <td class="text-left" rowspan="1" colspan="1">expires</td>
            <td class="text-left" rowspan="1" colspan="1"></td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">37</td>
            <td class="text-left" rowspan="1" colspan="1">from</td>
            <td class="text-left" rowspan="1" colspan="1"></td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">38</td>
            <td class="text-left" rowspan="1" colspan="1">host</td>
            <td class="text-left" rowspan="1" colspan="1"></td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">39</td>
            <td class="text-left" rowspan="1" colspan="1">if-match</td>
            <td class="text-left" rowspan="1" colspan="1"></td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">40</td>
            <td class="text-left" rowspan="1" colspan="1">if-modified-since</td>
            <td class="text-left" rowspan="1" colspan="1"></td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">41</td>
            <td class="text-left" rowspan="1" colspan="1">if-none-match</td>
            <td class="text-left" rowspan="1" colspan="1"></td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">42</td>
            <td class="text-left" rowspan="1" colspan="1">if-range</td>
            <td class="text-left" rowspan="1" colspan="1"></td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">43</td>
            <td class="text-left" rowspan="1" colspan="1">if-unmodified-since</td>
            <td class="text-left" rowspan="1" colspan="1"></td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">44</td>
            <td class="text-left" rowspan="1" colspan="1">last-modified</td>
            <td class="text-left" rowspan="1" colspan="1"></td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">45</td>
            <td class="text-left" rowspan="1" colspan="1">link</td>
            <td class="text-left" rowspan="1" colspan="1"></td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">46</td>
            <td class="text-left" rowspan="1" colspan="1">location</td>
            <td class="text-left" rowspan="1" colspan="1"></td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">47</td>
            <td class="text-left" rowspan="1" colspan="1">max-forwards</td>
            <td class="text-left" rowspan="1" colspan="1"></td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">48</td>
            <td class="text-left" rowspan="1" colspan="1">proxy-authenticate</td>
            <td class="text-left" rowspan="1" colspan="1"></td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">49</td>
            <td class="text-left" rowspan="1" colspan="1">proxy-authorization</td>
            <td class="text-left" rowspan="1" colspan="1"></td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">50</td>
            <td class="text-left" rowspan="1" colspan="1">range</td>
            <td class="text-left" rowspan="1" colspan="1"></td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">51</td>
            <td class="text-left" rowspan="1" colspan="1">referer</td>
            <td class="text-left" rowspan="1" colspan="1"></td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">52</td>
            <td class="text-left" rowspan="1" colspan="1">refresh</td>
            <td class="text-left" rowspan="1" colspan="1"></td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">53</td>
            <td class="text-left" rowspan="1" colspan="1">retry-after</td>
            <td class="text-left" rowspan="1" colspan="1"></td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">54</td>
            <td class="text-left" rowspan="1" colspan="1">server</td>
            <td class="text-left" rowspan="1" colspan="1"></td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">55</td>
            <td class="text-left" rowspan="1" colspan="1">set-cookie</td>
            <td class="text-left" rowspan="1" colspan="1"></td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">56</td>
            <td class="text-left" rowspan="1" colspan="1">strict-transport-security</td>
            <td class="text-left" rowspan="1" colspan="1"></td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">57</td>
            <td class="text-left" rowspan="1" colspan="1">transfer-encoding</td>
            <td class="text-left" rowspan="1" colspan="1"></td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">58</td>
            <td class="text-left" rowspan="1" colspan="1">user-agent</td>
            <td class="text-left" rowspan="1" colspan="1"></td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">59</td>
            <td class="text-left" rowspan="1" colspan="1">vary</td>
            <td class="text-left" rowspan="1" colspan="1"></td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">60</td>
            <td class="text-left" rowspan="1" colspan="1">via</td>
            <td class="text-left" rowspan="1" colspan="1"></td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">61</td>
            <td class="text-left" rowspan="1" colspan="1">www-authenticate</td>
            <td class="text-left" rowspan="1" colspan="1"></td>
          </tr>
        </tbody>
      </table>
</div>
</section>
</div>
<div id="huffman.code">
<section id="appendix-B">
      <h2 id="name-huffman-code">
<a href="#appendix-B" class="section-number selfRef">Appendix B. </a><a href="#name-huffman-code" class="section-name selfRef">Huffman Code</a>
      </h2>
<p id="appendix-B-1">
                The following Huffman code is used when encoding string literals
                with a Huffman coding (see <a href="#string.literal.representation" class="xref">Section 5.2</a>).<a href="#appendix-B-1" class="pilcrow">¶</a></p>
<p id="appendix-B-2">
                This Huffman code was generated from statistics obtained on a
                large sample of HTTP headers. It is a canonical Huffman code
                (see <span>[<a href="#CANONICAL" class="xref">CANONICAL</a>]</span>) with some tweaking to ensure
                that no symbol has a unique code length.<a href="#appendix-B-2" class="pilcrow">¶</a></p>
<p id="appendix-B-3">
                Each row in the table defines the code used to represent a
                symbol:<a href="#appendix-B-3" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="appendix-B-4">
        <dt id="appendix-B-4.1">sym:</dt>
        <dd style="margin-left: 1.5em" id="appendix-B-4.2">
                        The symbol to be represented. It is the decimal value of
                        an octet, possibly prepended with its ASCII
                        representation. A specific symbol, "EOS", is used to
                        indicate the end of a string literal.<a href="#appendix-B-4.2" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="appendix-B-4.3">code as bits:</dt>
        <dd style="margin-left: 1.5em" id="appendix-B-4.4">
                        The Huffman code for the symbol represented as a base-2
                        integer, aligned on the most significant bit (MSB).<a href="#appendix-B-4.4" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="appendix-B-4.5">code as hex:</dt>
        <dd style="margin-left: 1.5em" id="appendix-B-4.6">
                        The Huffman code for the symbol, represented as a
                        hexadecimal integer, aligned on the least significant
                        bit (LSB).<a href="#appendix-B-4.6" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="appendix-B-4.7">len:</dt>
        <dd style="margin-left: 1.5em" id="appendix-B-4.8">
                        The number of bits for the code representing the symbol.<a href="#appendix-B-4.8" class="pilcrow">¶</a>
</dd>
      <dd class="break"></dd>
</dl>
<p id="appendix-B-5">
                As an example, the code for the symbol 47 (corresponding to the
                ASCII character "/") consists in the 6 bits "0", "1", "1", "0",
                "0", "0". This corresponds to the value 0x18 (in hexadecimal)
                encoded in 6 bits.<a href="#appendix-B-5" class="pilcrow">¶</a></p>
<div class="alignLeft art-inline art-text artwork" id="appendix-B-6">
<pre>
                                                     code
                       code as bits                 as hex   len
     sym              aligned to MSB                aligned   in
                                                    to LSB   bits
    (  0)  |11111111|11000                             1ff8  [13]
    (  1)  |11111111|11111111|1011000                7fffd8  [23]
    (  2)  |11111111|11111111|11111110|0010         fffffe2  [28]
    (  3)  |11111111|11111111|11111110|0011         fffffe3  [28]
    (  4)  |11111111|11111111|11111110|0100         fffffe4  [28]
    (  5)  |11111111|11111111|11111110|0101         fffffe5  [28]
    (  6)  |11111111|11111111|11111110|0110         fffffe6  [28]
    (  7)  |11111111|11111111|11111110|0111         fffffe7  [28]
    (  8)  |11111111|11111111|11111110|1000         fffffe8  [28]
    (  9)  |11111111|11111111|11101010               ffffea  [24]
    ( 10)  |11111111|11111111|11111111|111100      3ffffffc  [30]
    ( 11)  |11111111|11111111|11111110|1001         fffffe9  [28]
    ( 12)  |11111111|11111111|11111110|1010         fffffea  [28]
    ( 13)  |11111111|11111111|11111111|111101      3ffffffd  [30]
    ( 14)  |11111111|11111111|11111110|1011         fffffeb  [28]
    ( 15)  |11111111|11111111|11111110|1100         fffffec  [28]
    ( 16)  |11111111|11111111|11111110|1101         fffffed  [28]
    ( 17)  |11111111|11111111|11111110|1110         fffffee  [28]
    ( 18)  |11111111|11111111|11111110|1111         fffffef  [28]
    ( 19)  |11111111|11111111|11111111|0000         ffffff0  [28]
    ( 20)  |11111111|11111111|11111111|0001         ffffff1  [28]
    ( 21)  |11111111|11111111|11111111|0010         ffffff2  [28]
    ( 22)  |11111111|11111111|11111111|111110      3ffffffe  [30]
    ( 23)  |11111111|11111111|11111111|0011         ffffff3  [28]
    ( 24)  |11111111|11111111|11111111|0100         ffffff4  [28]
    ( 25)  |11111111|11111111|11111111|0101         ffffff5  [28]
    ( 26)  |11111111|11111111|11111111|0110         ffffff6  [28]
    ( 27)  |11111111|11111111|11111111|0111         ffffff7  [28]
    ( 28)  |11111111|11111111|11111111|1000         ffffff8  [28]
    ( 29)  |11111111|11111111|11111111|1001         ffffff9  [28]
    ( 30)  |11111111|11111111|11111111|1010         ffffffa  [28]
    ( 31)  |11111111|11111111|11111111|1011         ffffffb  [28]
' ' ( 32)  |010100                                       14  [ 6]
'!' ( 33)  |11111110|00                                 3f8  [10]
'"' ( 34)  |11111110|01                                 3f9  [10]
'#' ( 35)  |11111111|1010                               ffa  [12]
'$' ( 36)  |11111111|11001                             1ff9  [13]
'%' ( 37)  |010101                                       15  [ 6]
'&amp;' ( 38)  |11111000                                     f8  [ 8]
''' ( 39)  |11111111|010                                7fa  [11]
'(' ( 40)  |11111110|10                                 3fa  [10]
')' ( 41)  |11111110|11                                 3fb  [10]
'*' ( 42)  |11111001                                     f9  [ 8]
'+' ( 43)  |11111111|011                                7fb  [11]
',' ( 44)  |11111010                                     fa  [ 8]
'-' ( 45)  |010110                                       16  [ 6]
'.' ( 46)  |010111                                       17  [ 6]
'/' ( 47)  |011000                                       18  [ 6]
'0' ( 48)  |00000                                         0  [ 5]
'1' ( 49)  |00001                                         1  [ 5]
'2' ( 50)  |00010                                         2  [ 5]
'3' ( 51)  |011001                                       19  [ 6]
'4' ( 52)  |011010                                       1a  [ 6]
'5' ( 53)  |011011                                       1b  [ 6]
'6' ( 54)  |011100                                       1c  [ 6]
'7' ( 55)  |011101                                       1d  [ 6]
'8' ( 56)  |011110                                       1e  [ 6]
'9' ( 57)  |011111                                       1f  [ 6]
':' ( 58)  |1011100                                      5c  [ 7]
';' ( 59)  |11111011                                     fb  [ 8]
'&lt;' ( 60)  |11111111|1111100                           7ffc  [15]
'=' ( 61)  |100000                                       20  [ 6]
'&gt;' ( 62)  |11111111|1011                               ffb  [12]
'?' ( 63)  |11111111|00                                 3fc  [10]
'@' ( 64)  |11111111|11010                             1ffa  [13]
'A' ( 65)  |100001                                       21  [ 6]
'B' ( 66)  |1011101                                      5d  [ 7]
'C' ( 67)  |1011110                                      5e  [ 7]
'D' ( 68)  |1011111                                      5f  [ 7]
'E' ( 69)  |1100000                                      60  [ 7]
'F' ( 70)  |1100001                                      61  [ 7]
'G' ( 71)  |1100010                                      62  [ 7]
'H' ( 72)  |1100011                                      63  [ 7]
'I' ( 73)  |1100100                                      64  [ 7]
'J' ( 74)  |1100101                                      65  [ 7]
'K' ( 75)  |1100110                                      66  [ 7]
'L' ( 76)  |1100111                                      67  [ 7]
'M' ( 77)  |1101000                                      68  [ 7]
'N' ( 78)  |1101001                                      69  [ 7]
'O' ( 79)  |1101010                                      6a  [ 7]
'P' ( 80)  |1101011                                      6b  [ 7]
'Q' ( 81)  |1101100                                      6c  [ 7]
'R' ( 82)  |1101101                                      6d  [ 7]
'S' ( 83)  |1101110                                      6e  [ 7]
'T' ( 84)  |1101111                                      6f  [ 7]
'U' ( 85)  |1110000                                      70  [ 7]
'V' ( 86)  |1110001                                      71  [ 7]
'W' ( 87)  |1110010                                      72  [ 7]
'X' ( 88)  |11111100                                     fc  [ 8]
'Y' ( 89)  |1110011                                      73  [ 7]
'Z' ( 90)  |11111101                                     fd  [ 8]
'[' ( 91)  |11111111|11011                             1ffb  [13]
'\' ( 92)  |11111111|11111110|000                     7fff0  [19]
']' ( 93)  |11111111|11100                             1ffc  [13]
'^' ( 94)  |11111111|111100                            3ffc  [14]
'_' ( 95)  |100010                                       22  [ 6]
'`' ( 96)  |11111111|1111101                           7ffd  [15]
'a' ( 97)  |00011                                         3  [ 5]
'b' ( 98)  |100011                                       23  [ 6]
'c' ( 99)  |00100                                         4  [ 5]
'd' (100)  |100100                                       24  [ 6]
'e' (101)  |00101                                         5  [ 5]
'f' (102)  |100101                                       25  [ 6]
'g' (103)  |100110                                       26  [ 6]
'h' (104)  |100111                                       27  [ 6]
'i' (105)  |00110                                         6  [ 5]
'j' (106)  |1110100                                      74  [ 7]
'k' (107)  |1110101                                      75  [ 7]
'l' (108)  |101000                                       28  [ 6]
'm' (109)  |101001                                       29  [ 6]
'n' (110)  |101010                                       2a  [ 6]
'o' (111)  |00111                                         7  [ 5]
'p' (112)  |101011                                       2b  [ 6]
'q' (113)  |1110110                                      76  [ 7]
'r' (114)  |101100                                       2c  [ 6]
's' (115)  |01000                                         8  [ 5]
't' (116)  |01001                                         9  [ 5]
'u' (117)  |101101                                       2d  [ 6]
'v' (118)  |1110111                                      77  [ 7]
'w' (119)  |1111000                                      78  [ 7]
'x' (120)  |1111001                                      79  [ 7]
'y' (121)  |1111010                                      7a  [ 7]
'z' (122)  |1111011                                      7b  [ 7]
'{' (123)  |11111111|1111110                           7ffe  [15]
'|' (124)  |11111111|100                                7fc  [11]
'}' (125)  |11111111|111101                            3ffd  [14]
'~' (126)  |11111111|11101                             1ffd  [13]
    (127)  |11111111|11111111|11111111|1100         ffffffc  [28]
    (128)  |11111111|11111110|0110                    fffe6  [20]
    (129)  |11111111|11111111|010010                 3fffd2  [22]
    (130)  |11111111|11111110|0111                    fffe7  [20]
    (131)  |11111111|11111110|1000                    fffe8  [20]
    (132)  |11111111|11111111|010011                 3fffd3  [22]
    (133)  |11111111|11111111|010100                 3fffd4  [22]
    (134)  |11111111|11111111|010101                 3fffd5  [22]
    (135)  |11111111|11111111|1011001                7fffd9  [23]
    (136)  |11111111|11111111|010110                 3fffd6  [22]
    (137)  |11111111|11111111|1011010                7fffda  [23]
    (138)  |11111111|11111111|1011011                7fffdb  [23]
    (139)  |11111111|11111111|1011100                7fffdc  [23]
    (140)  |11111111|11111111|1011101                7fffdd  [23]
    (141)  |11111111|11111111|1011110                7fffde  [23]
    (142)  |11111111|11111111|11101011               ffffeb  [24]
    (143)  |11111111|11111111|1011111                7fffdf  [23]
    (144)  |11111111|11111111|11101100               ffffec  [24]
    (145)  |11111111|11111111|11101101               ffffed  [24]
    (146)  |11111111|11111111|010111                 3fffd7  [22]
    (147)  |11111111|11111111|1100000                7fffe0  [23]
    (148)  |11111111|11111111|11101110               ffffee  [24]
    (149)  |11111111|11111111|1100001                7fffe1  [23]
    (150)  |11111111|11111111|1100010                7fffe2  [23]
    (151)  |11111111|11111111|1100011                7fffe3  [23]
    (152)  |11111111|11111111|1100100                7fffe4  [23]
    (153)  |11111111|11111110|11100                  1fffdc  [21]
    (154)  |11111111|11111111|011000                 3fffd8  [22]
    (155)  |11111111|11111111|1100101                7fffe5  [23]
    (156)  |11111111|11111111|011001                 3fffd9  [22]
    (157)  |11111111|11111111|1100110                7fffe6  [23]
    (158)  |11111111|11111111|1100111                7fffe7  [23]
    (159)  |11111111|11111111|11101111               ffffef  [24]
    (160)  |11111111|11111111|011010                 3fffda  [22]
    (161)  |11111111|11111110|11101                  1fffdd  [21]
    (162)  |11111111|11111110|1001                    fffe9  [20]
    (163)  |11111111|11111111|011011                 3fffdb  [22]
    (164)  |11111111|11111111|011100                 3fffdc  [22]
    (165)  |11111111|11111111|1101000                7fffe8  [23]
    (166)  |11111111|11111111|1101001                7fffe9  [23]
    (167)  |11111111|11111110|11110                  1fffde  [21]
    (168)  |11111111|11111111|1101010                7fffea  [23]
    (169)  |11111111|11111111|011101                 3fffdd  [22]
    (170)  |11111111|11111111|011110                 3fffde  [22]
    (171)  |11111111|11111111|11110000               fffff0  [24]
    (172)  |11111111|11111110|11111                  1fffdf  [21]
    (173)  |11111111|11111111|011111                 3fffdf  [22]
    (174)  |11111111|11111111|1101011                7fffeb  [23]
    (175)  |11111111|11111111|1101100                7fffec  [23]
    (176)  |11111111|11111111|00000                  1fffe0  [21]
    (177)  |11111111|11111111|00001                  1fffe1  [21]
    (178)  |11111111|11111111|100000                 3fffe0  [22]
    (179)  |11111111|11111111|00010                  1fffe2  [21]
    (180)  |11111111|11111111|1101101                7fffed  [23]
    (181)  |11111111|11111111|100001                 3fffe1  [22]
    (182)  |11111111|11111111|1101110                7fffee  [23]
    (183)  |11111111|11111111|1101111                7fffef  [23]
    (184)  |11111111|11111110|1010                    fffea  [20]
    (185)  |11111111|11111111|100010                 3fffe2  [22]
    (186)  |11111111|11111111|100011                 3fffe3  [22]
    (187)  |11111111|11111111|100100                 3fffe4  [22]
    (188)  |11111111|11111111|1110000                7ffff0  [23]
    (189)  |11111111|11111111|100101                 3fffe5  [22]
    (190)  |11111111|11111111|100110                 3fffe6  [22]
    (191)  |11111111|11111111|1110001                7ffff1  [23]
    (192)  |11111111|11111111|11111000|00           3ffffe0  [26]
    (193)  |11111111|11111111|11111000|01           3ffffe1  [26]
    (194)  |11111111|11111110|1011                    fffeb  [20]
    (195)  |11111111|11111110|001                     7fff1  [19]
    (196)  |11111111|11111111|100111                 3fffe7  [22]
    (197)  |11111111|11111111|1110010                7ffff2  [23]
    (198)  |11111111|11111111|101000                 3fffe8  [22]
    (199)  |11111111|11111111|11110110|0            1ffffec  [25]
    (200)  |11111111|11111111|11111000|10           3ffffe2  [26]
    (201)  |11111111|11111111|11111000|11           3ffffe3  [26]
    (202)  |11111111|11111111|11111001|00           3ffffe4  [26]
    (203)  |11111111|11111111|11111011|110          7ffffde  [27]
    (204)  |11111111|11111111|11111011|111          7ffffdf  [27]
    (205)  |11111111|11111111|11111001|01           3ffffe5  [26]
    (206)  |11111111|11111111|11110001               fffff1  [24]
    (207)  |11111111|11111111|11110110|1            1ffffed  [25]
    (208)  |11111111|11111110|010                     7fff2  [19]
    (209)  |11111111|11111111|00011                  1fffe3  [21]
    (210)  |11111111|11111111|11111001|10           3ffffe6  [26]
    (211)  |11111111|11111111|11111100|000          7ffffe0  [27]
    (212)  |11111111|11111111|11111100|001          7ffffe1  [27]
    (213)  |11111111|11111111|11111001|11           3ffffe7  [26]
    (214)  |11111111|11111111|11111100|010          7ffffe2  [27]
    (215)  |11111111|11111111|11110010               fffff2  [24]
    (216)  |11111111|11111111|00100                  1fffe4  [21]
    (217)  |11111111|11111111|00101                  1fffe5  [21]
    (218)  |11111111|11111111|11111010|00           3ffffe8  [26]
    (219)  |11111111|11111111|11111010|01           3ffffe9  [26]
    (220)  |11111111|11111111|11111111|1101         ffffffd  [28]
    (221)  |11111111|11111111|11111100|011          7ffffe3  [27]
    (222)  |11111111|11111111|11111100|100          7ffffe4  [27]
    (223)  |11111111|11111111|11111100|101          7ffffe5  [27]
    (224)  |11111111|11111110|1100                    fffec  [20]
    (225)  |11111111|11111111|11110011               fffff3  [24]
    (226)  |11111111|11111110|1101                    fffed  [20]
    (227)  |11111111|11111111|00110                  1fffe6  [21]
    (228)  |11111111|11111111|101001                 3fffe9  [22]
    (229)  |11111111|11111111|00111                  1fffe7  [21]
    (230)  |11111111|11111111|01000                  1fffe8  [21]
    (231)  |11111111|11111111|1110011                7ffff3  [23]
    (232)  |11111111|11111111|101010                 3fffea  [22]
    (233)  |11111111|11111111|101011                 3fffeb  [22]
    (234)  |11111111|11111111|11110111|0            1ffffee  [25]
    (235)  |11111111|11111111|11110111|1            1ffffef  [25]
    (236)  |11111111|11111111|11110100               fffff4  [24]
    (237)  |11111111|11111111|11110101               fffff5  [24]
    (238)  |11111111|11111111|11111010|10           3ffffea  [26]
    (239)  |11111111|11111111|1110100                7ffff4  [23]
    (240)  |11111111|11111111|11111010|11           3ffffeb  [26]
    (241)  |11111111|11111111|11111100|110          7ffffe6  [27]
    (242)  |11111111|11111111|11111011|00           3ffffec  [26]
    (243)  |11111111|11111111|11111011|01           3ffffed  [26]
    (244)  |11111111|11111111|11111100|111          7ffffe7  [27]
    (245)  |11111111|11111111|11111101|000          7ffffe8  [27]
    (246)  |11111111|11111111|11111101|001          7ffffe9  [27]
    (247)  |11111111|11111111|11111101|010          7ffffea  [27]
    (248)  |11111111|11111111|11111101|011          7ffffeb  [27]
    (249)  |11111111|11111111|11111111|1110         ffffffe  [28]
    (250)  |11111111|11111111|11111101|100          7ffffec  [27]
    (251)  |11111111|11111111|11111101|101          7ffffed  [27]
    (252)  |11111111|11111111|11111101|110          7ffffee  [27]
    (253)  |11111111|11111111|11111101|111          7ffffef  [27]
    (254)  |11111111|11111111|11111110|000          7fffff0  [27]
    (255)  |11111111|11111111|11111011|10           3ffffee  [26]
EOS (256)  |11111111|11111111|11111111|111111      3fffffff  [30]
</pre><a href="#appendix-B-6" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="examples">
<section id="appendix-C">
      <h2 id="name-examples">
<a href="#appendix-C" class="section-number selfRef">Appendix C. </a><a href="#name-examples" class="section-name selfRef">Examples</a>
      </h2>
<p id="appendix-C-1">
                This appendix contains examples covering integer
                encoding, header field representation, and the encoding of whole
                lists of header fields for both requests and responses,
                with and without Huffman coding.<a href="#appendix-C-1" class="pilcrow">¶</a></p>
<div id="integer.representation.examples">
<section id="appendix-C.1">
        <h3 id="name-integer-representation-exam">
<a href="#appendix-C.1" class="section-number selfRef">C.1. </a><a href="#name-integer-representation-exam" class="section-name selfRef">Integer Representation Examples</a>
        </h3>
<p id="appendix-C.1-1">
                    This section shows the representation of integer values in
                    detail (see <a href="#integer.representation" class="xref">Section 5.1</a>).<a href="#appendix-C.1-1" class="pilcrow">¶</a></p>
<div id="integer.representation.example1">
<section id="appendix-C.1.1">
          <h4 id="name-example-1-encoding-10-using">
<a href="#appendix-C.1.1" class="section-number selfRef">C.1.1. </a><a href="#name-example-1-encoding-10-using" class="section-name selfRef">Example 1: Encoding 10 Using a 5-Bit Prefix</a>
          </h4>
<p id="appendix-C.1.1-1">
                        The value 10 is to be encoded with a 5-bit prefix.<a href="#appendix-C.1.1-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="appendix-C.1.1-2.1">
                                10 is less than 31 (2<sup>5</sup> - 1) and
                                is represented using the 5-bit prefix.<a href="#appendix-C.1.1-2.1" class="pilcrow">¶</a>
</li>
          </ul>
<div class="alignLeft art-example art-text artwork" id="appendix-C.1.1-3">
<pre>
  0   1   2   3   4   5   6   7
+---+---+---+---+---+---+---+---+
| X | X | X | 0 | 1 | 0 | 1 | 0 |   10 stored on 5 bits
+---+---+---+---+---+---+---+---+
</pre><a href="#appendix-C.1.1-3" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="integer.representation.example2">
<section id="appendix-C.1.2">
          <h4 id="name-example-2-encoding-1337-usi">
<a href="#appendix-C.1.2" class="section-number selfRef">C.1.2. </a><a href="#name-example-2-encoding-1337-usi" class="section-name selfRef">Example 2: Encoding 1337 Using a 5-Bit Prefix</a>
          </h4>
<p id="appendix-C.1.2-1">
                        The value I=1337 is to be encoded with a 5-bit prefix.<a href="#appendix-C.1.2-1" class="pilcrow">¶</a></p>
<ul class="normal ulEmpty">
<li class="normal ulEmpty" id="appendix-C.1.2-2.1">
                                1337 is greater than 31 (2<sup>5</sup> - 1).<a href="#appendix-C.1.2-2.1" class="pilcrow">¶</a>
</li>
            <li class="normal ulEmpty" id="appendix-C.1.2-2.2">
              <ul class="normal">
<li class="normal" id="appendix-C.1.2-2.2.1.1">The 5-bit prefix is filled with its max
                                    value (31).<a href="#appendix-C.1.2-2.2.1.1" class="pilcrow">¶</a>
</li>
              </ul>
</li>
            <li class="normal ulEmpty" id="appendix-C.1.2-2.3">I = 1337 - (2<sup>5</sup> - 1) = 1306.<a href="#appendix-C.1.2-2.3" class="pilcrow">¶</a>
</li>
            <li class="normal ulEmpty" id="appendix-C.1.2-2.4">
              <ul class="normal">
<li class="normal" id="appendix-C.1.2-2.4.1.1">I (1306) is greater than or equal to 128,
                                    so the while loop body executes:<a href="#appendix-C.1.2-2.4.1.1" class="pilcrow">¶</a>
</li>
                <li class="normal" id="appendix-C.1.2-2.4.1.2">
                  <ul class="normal">
<li class="normal" id="appendix-C.1.2-2.4.1.2.1.1">I % 128 == 26<a href="#appendix-C.1.2-2.4.1.2.1.1" class="pilcrow">¶</a>
</li>
                    <li class="normal" id="appendix-C.1.2-2.4.1.2.1.2">26 + 128 == 154<a href="#appendix-C.1.2-2.4.1.2.1.2" class="pilcrow">¶</a>
</li>
                    <li class="normal" id="appendix-C.1.2-2.4.1.2.1.3">154 is encoded in 8 bits as:
                                            10011010<a href="#appendix-C.1.2-2.4.1.2.1.3" class="pilcrow">¶</a>
</li>
                    <li class="normal" id="appendix-C.1.2-2.4.1.2.1.4">I is set to 10 (1306 / 128 ==
                                            10)<a href="#appendix-C.1.2-2.4.1.2.1.4" class="pilcrow">¶</a>
</li>
                    <li class="normal" id="appendix-C.1.2-2.4.1.2.1.5">I is no longer greater than or
                                            equal to 128, so the while loop
                                            terminates.<a href="#appendix-C.1.2-2.4.1.2.1.5" class="pilcrow">¶</a>
</li>
                  </ul>
</li>
                <li class="normal" id="appendix-C.1.2-2.4.1.3">
                                        I, now 10, is encoded in 8 bits as:
                                        00001010.<a href="#appendix-C.1.2-2.4.1.3" class="pilcrow">¶</a>
</li>
              </ul>
</li>
            <li class="normal ulEmpty" id="appendix-C.1.2-2.5">The process ends.<a href="#appendix-C.1.2-2.5" class="pilcrow">¶</a>
</li>
          </ul>
<div class="alignLeft art-example art-text artwork" id="appendix-C.1.2-3">
<pre>
  0   1   2   3   4   5   6   7
+---+---+---+---+---+---+---+---+
| X | X | X | 1 | 1 | 1 | 1 | 1 |  Prefix = 31, I = 1306
| 1 | 0 | 0 | 1 | 1 | 0 | 1 | 0 |  1306&gt;=128, encode(154), I=1306/128
| 0 | 0 | 0 | 0 | 1 | 0 | 1 | 0 |  10&lt;128, encode(10), done
+---+---+---+---+---+---+---+---+
</pre><a href="#appendix-C.1.2-3" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="integer.representation.example3">
<section id="appendix-C.1.3">
          <h4 id="name-example-3-encoding-42-start">
<a href="#appendix-C.1.3" class="section-number selfRef">C.1.3. </a><a href="#name-example-3-encoding-42-start" class="section-name selfRef">Example 3: Encoding 42 Starting at an Octet Boundary</a>
          </h4>
<p id="appendix-C.1.3-1">
                        The value 42 is to be encoded starting at an
                        octet boundary. This implies that a 8-bit prefix is
                        used.<a href="#appendix-C.1.3-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="appendix-C.1.3-2.1">
                                42 is less than 255 (2<sup>8</sup> - 1) and
                                is represented using the 8-bit prefix.<a href="#appendix-C.1.3-2.1" class="pilcrow">¶</a>
</li>
          </ul>
<div class="alignLeft art-example art-text artwork" id="appendix-C.1.3-3">
<pre>
  0   1   2   3   4   5   6   7
+---+---+---+---+---+---+---+---+
| 0 | 0 | 1 | 0 | 1 | 0 | 1 | 0 |   42 stored on 8 bits
+---+---+---+---+---+---+---+---+
</pre><a href="#appendix-C.1.3-3" class="pilcrow">¶</a>
</div>
</section>
</div>
</section>
</div>
<div id="header.field.representation.examples">
<section id="appendix-C.2">
        <h3 id="name-header-field-representation-e">
<a href="#appendix-C.2" class="section-number selfRef">C.2. </a><a href="#name-header-field-representation-e" class="section-name selfRef">Header Field Representation Examples</a>
        </h3>
<p id="appendix-C.2-1">
        This section shows several independent representation examples.<a href="#appendix-C.2-1" class="pilcrow">¶</a></p>
<section id="appendix-C.2.1">
          <h4 id="name-literal-header-field-with-ind">
<a href="#appendix-C.2.1" class="section-number selfRef">C.2.1. </a><a href="#name-literal-header-field-with-ind" class="section-name selfRef">Literal Header Field with Indexing</a>
          </h4>
<p id="appendix-C.2.1-1">
            The header field representation uses a literal name and a literal
            value. The header field is added to the dynamic table.<a href="#appendix-C.2.1-1" class="pilcrow">¶</a></p>
<p id="appendix-C.2.1-2" class="keepWithNext">Header list to encode:<a href="#appendix-C.2.1-2" class="pilcrow">¶</a></p>
<div class="alignLeft art-example art-text artwork" id="appendix-C.2.1-3">
<pre>
custom-key: custom-header</pre><a href="#appendix-C.2.1-3" class="pilcrow">¶</a>
</div>
<p id="appendix-C.2.1-4" class="keepWithNext">Hex dump of encoded data:<a href="#appendix-C.2.1-4" class="pilcrow">¶</a></p>
<div class="alignLeft art-example art-text artwork" id="appendix-C.2.1-5">
<pre>
400a 6375 7374 6f6d 2d6b 6579 0d63 7573 | @.custom-key.cus
746f 6d2d 6865 6164 6572                | tom-header</pre><a href="#appendix-C.2.1-5" class="pilcrow">¶</a>
</div>
<p id="appendix-C.2.1-6" class="keepWithNext">Decoding process:<a href="#appendix-C.2.1-6" class="pilcrow">¶</a></p>
<div class="alignLeft art-example art-text artwork" id="appendix-C.2.1-7">
<pre>
40                                      | == Literal indexed ==
0a                                      |   Literal name (len = 10)
6375 7374 6f6d 2d6b 6579                | custom-key
0d                                      |   Literal value (len = 13)
6375 7374 6f6d 2d68 6561 6465 72        | custom-header
                                        | -&gt; custom-key:
                                        |   custom-header</pre><a href="#appendix-C.2.1-7" class="pilcrow">¶</a>
</div>
<p id="appendix-C.2.1-8" class="keepWithNext">Dynamic Table (after decoding):<a href="#appendix-C.2.1-8" class="pilcrow">¶</a></p>
<div class="alignLeft art-example art-text artwork" id="appendix-C.2.1-9">
<pre>
[  1] (s =  55) custom-key: custom-header
      Table size:  55</pre><a href="#appendix-C.2.1-9" class="pilcrow">¶</a>
</div>
<p id="appendix-C.2.1-10" class="keepWithNext">Decoded header list:<a href="#appendix-C.2.1-10" class="pilcrow">¶</a></p>
<div class="alignLeft art-example art-text artwork" id="appendix-C.2.1-11">
<pre>
custom-key: custom-header</pre><a href="#appendix-C.2.1-11" class="pilcrow">¶</a>
</div>
</section>
<section id="appendix-C.2.2">
          <h4 id="name-literal-header-field-without-i">
<a href="#appendix-C.2.2" class="section-number selfRef">C.2.2. </a><a href="#name-literal-header-field-without-i" class="section-name selfRef">Literal Header Field without Indexing</a>
          </h4>
<p id="appendix-C.2.2-1">
            The header field representation uses an indexed name and a literal
            value. The header field is not added to the dynamic table.<a href="#appendix-C.2.2-1" class="pilcrow">¶</a></p>
<p id="appendix-C.2.2-2" class="keepWithNext">Header list to encode:<a href="#appendix-C.2.2-2" class="pilcrow">¶</a></p>
<div class="alignLeft art-example art-text artwork" id="appendix-C.2.2-3">
<pre>
:path: /sample/path</pre><a href="#appendix-C.2.2-3" class="pilcrow">¶</a>
</div>
<p id="appendix-C.2.2-4" class="keepWithNext">Hex dump of encoded data:<a href="#appendix-C.2.2-4" class="pilcrow">¶</a></p>
<div class="alignLeft art-example art-text artwork" id="appendix-C.2.2-5">
<pre>
040c 2f73 616d 706c 652f 7061 7468      | ../sample/path</pre><a href="#appendix-C.2.2-5" class="pilcrow">¶</a>
</div>
<p id="appendix-C.2.2-6" class="keepWithNext">Decoding process:<a href="#appendix-C.2.2-6" class="pilcrow">¶</a></p>
<div class="alignLeft art-example art-text artwork" id="appendix-C.2.2-7">
<pre>
04                                      | == Literal not indexed ==
                                        |   Indexed name (idx = 4)
                                        |     :path
0c                                      |   Literal value (len = 12)
2f73 616d 706c 652f 7061 7468           | /sample/path
                                        | -&gt; :path: /sample/path</pre><a href="#appendix-C.2.2-7" class="pilcrow">¶</a>
</div>
<p id="appendix-C.2.2-8">
          Dynamic table (after decoding): empty.<a href="#appendix-C.2.2-8" class="pilcrow">¶</a></p>
<p id="appendix-C.2.2-9" class="keepWithNext">Decoded header list:<a href="#appendix-C.2.2-9" class="pilcrow">¶</a></p>
<div class="alignLeft art-example art-text artwork" id="appendix-C.2.2-10">
<pre>
:path: /sample/path</pre><a href="#appendix-C.2.2-10" class="pilcrow">¶</a>
</div>
</section>
<section id="appendix-C.2.3">
          <h4 id="name-literal-header-field-never-ind">
<a href="#appendix-C.2.3" class="section-number selfRef">C.2.3. </a><a href="#name-literal-header-field-never-ind" class="section-name selfRef">Literal Header Field Never Indexed</a>
          </h4>
<p id="appendix-C.2.3-1">
            The header field representation uses a literal name and a literal
            value. The header field is not added to the dynamic table and must
            use the same representation if re-encoded by an intermediary.<a href="#appendix-C.2.3-1" class="pilcrow">¶</a></p>
<p id="appendix-C.2.3-2" class="keepWithNext">Header list to encode:<a href="#appendix-C.2.3-2" class="pilcrow">¶</a></p>
<div class="alignLeft art-example art-text artwork" id="appendix-C.2.3-3">
<pre>
password: secret</pre><a href="#appendix-C.2.3-3" class="pilcrow">¶</a>
</div>
<p id="appendix-C.2.3-4" class="keepWithNext">Hex dump of encoded data:<a href="#appendix-C.2.3-4" class="pilcrow">¶</a></p>
<div class="alignLeft art-example art-text artwork" id="appendix-C.2.3-5">
<pre>
1008 7061 7373 776f 7264 0673 6563 7265 | ..password.secre
74                                      | t</pre><a href="#appendix-C.2.3-5" class="pilcrow">¶</a>
</div>
<p id="appendix-C.2.3-6" class="keepWithNext">Decoding process:<a href="#appendix-C.2.3-6" class="pilcrow">¶</a></p>
<div class="alignLeft art-example art-text artwork" id="appendix-C.2.3-7">
<pre>
10                                      | == Literal never indexed ==
08                                      |   Literal name (len = 8)
7061 7373 776f 7264                     | password
06                                      |   Literal value (len = 6)
7365 6372 6574                          | secret
                                        | -&gt; password: secret</pre><a href="#appendix-C.2.3-7" class="pilcrow">¶</a>
</div>
<p id="appendix-C.2.3-8">
          Dynamic table (after decoding): empty.<a href="#appendix-C.2.3-8" class="pilcrow">¶</a></p>
<p id="appendix-C.2.3-9" class="keepWithNext">Decoded header list:<a href="#appendix-C.2.3-9" class="pilcrow">¶</a></p>
<div class="alignLeft art-example art-text artwork" id="appendix-C.2.3-10">
<pre>
password: secret</pre><a href="#appendix-C.2.3-10" class="pilcrow">¶</a>
</div>
</section>
<section id="appendix-C.2.4">
          <h4 id="name-indexed-header-field-2">
<a href="#appendix-C.2.4" class="section-number selfRef">C.2.4. </a><a href="#name-indexed-header-field-2" class="section-name selfRef">Indexed Header Field</a>
          </h4>
<p id="appendix-C.2.4-1">
            The header field representation uses an indexed header field from
            the static table.<a href="#appendix-C.2.4-1" class="pilcrow">¶</a></p>
<p id="appendix-C.2.4-2" class="keepWithNext">Header list to encode:<a href="#appendix-C.2.4-2" class="pilcrow">¶</a></p>
<div class="alignLeft art-example art-text artwork" id="appendix-C.2.4-3">
<pre>
:method: GET</pre><a href="#appendix-C.2.4-3" class="pilcrow">¶</a>
</div>
<p id="appendix-C.2.4-4" class="keepWithNext">Hex dump of encoded data:<a href="#appendix-C.2.4-4" class="pilcrow">¶</a></p>
<div class="alignLeft art-example art-text artwork" id="appendix-C.2.4-5">
<pre>
82                                      | .</pre><a href="#appendix-C.2.4-5" class="pilcrow">¶</a>
</div>
<p id="appendix-C.2.4-6" class="keepWithNext">Decoding process:<a href="#appendix-C.2.4-6" class="pilcrow">¶</a></p>
<div class="alignLeft art-example art-text artwork" id="appendix-C.2.4-7">
<pre>
82                                      | == Indexed - Add ==
                                        |   idx = 2
                                        | -&gt; :method: GET</pre><a href="#appendix-C.2.4-7" class="pilcrow">¶</a>
</div>
<p id="appendix-C.2.4-8">
          Dynamic table (after decoding): empty.<a href="#appendix-C.2.4-8" class="pilcrow">¶</a></p>
<p id="appendix-C.2.4-9" class="keepWithNext">Decoded header list:<a href="#appendix-C.2.4-9" class="pilcrow">¶</a></p>
<div class="alignLeft art-example art-text artwork" id="appendix-C.2.4-10">
<pre>
:method: GET</pre><a href="#appendix-C.2.4-10" class="pilcrow">¶</a>
</div>
</section>
</section>
</div>
<div id="request.examples.without.huffman.coding">
<section id="appendix-C.3">
        <h3 id="name-request-examples-without-hu">
<a href="#appendix-C.3" class="section-number selfRef">C.3. </a><a href="#name-request-examples-without-hu" class="section-name selfRef">Request Examples without Huffman Coding</a>
        </h3>
<p id="appendix-C.3-1">
        This section shows several consecutive header lists, corresponding to
        HTTP requests, on the same connection.<a href="#appendix-C.3-1" class="pilcrow">¶</a></p>
<section id="appendix-C.3.1">
          <h4 id="name-first-request">
<a href="#appendix-C.3.1" class="section-number selfRef">C.3.1. </a><a href="#name-first-request" class="section-name selfRef">First Request</a>
          </h4>
<p id="appendix-C.3.1-1" class="keepWithNext">Header list to encode:<a href="#appendix-C.3.1-1" class="pilcrow">¶</a></p>
<div class="alignLeft art-example art-text artwork" id="appendix-C.3.1-2">
<pre>
:method: GET
:scheme: http
:path: /
:authority: www.example.com</pre><a href="#appendix-C.3.1-2" class="pilcrow">¶</a>
</div>
<p id="appendix-C.3.1-3" class="keepWithNext">Hex dump of encoded data:<a href="#appendix-C.3.1-3" class="pilcrow">¶</a></p>
<div class="alignLeft art-example art-text artwork" id="appendix-C.3.1-4">
<pre>
8286 8441 0f77 7777 2e65 7861 6d70 6c65 | ...A.www.example
2e63 6f6d                               | .com</pre><a href="#appendix-C.3.1-4" class="pilcrow">¶</a>
</div>
<p id="appendix-C.3.1-5" class="keepWithNext">Decoding process:<a href="#appendix-C.3.1-5" class="pilcrow">¶</a></p>
<div class="alignLeft art-example art-text artwork" id="appendix-C.3.1-6">
<pre>
82                                      | == Indexed - Add ==
                                        |   idx = 2
                                        | -&gt; :method: GET
86                                      | == Indexed - Add ==
                                        |   idx = 6
                                        | -&gt; :scheme: http
84                                      | == Indexed - Add ==
                                        |   idx = 4
                                        | -&gt; :path: /
41                                      | == Literal indexed ==
                                        |   Indexed name (idx = 1)
                                        |     :authority
0f                                      |   Literal value (len = 15)
7777 772e 6578 616d 706c 652e 636f 6d   | www.example.com
                                        | -&gt; :authority:
                                        |   www.example.com</pre><a href="#appendix-C.3.1-6" class="pilcrow">¶</a>
</div>
<p id="appendix-C.3.1-7" class="keepWithNext">Dynamic Table (after decoding):<a href="#appendix-C.3.1-7" class="pilcrow">¶</a></p>
<div class="alignLeft art-example art-text artwork" id="appendix-C.3.1-8">
<pre>
[  1] (s =  57) :authority: www.example.com
      Table size:  57</pre><a href="#appendix-C.3.1-8" class="pilcrow">¶</a>
</div>
<p id="appendix-C.3.1-9" class="keepWithNext">Decoded header list:<a href="#appendix-C.3.1-9" class="pilcrow">¶</a></p>
<div class="alignLeft art-example art-text artwork" id="appendix-C.3.1-10">
<pre>
:method: GET
:scheme: http
:path: /
:authority: www.example.com</pre><a href="#appendix-C.3.1-10" class="pilcrow">¶</a>
</div>
</section>
<section id="appendix-C.3.2">
          <h4 id="name-second-request">
<a href="#appendix-C.3.2" class="section-number selfRef">C.3.2. </a><a href="#name-second-request" class="section-name selfRef">Second Request</a>
          </h4>
<p id="appendix-C.3.2-1" class="keepWithNext">Header list to encode:<a href="#appendix-C.3.2-1" class="pilcrow">¶</a></p>
<div class="alignLeft art-example art-text artwork" id="appendix-C.3.2-2">
<pre>
:method: GET
:scheme: http
:path: /
:authority: www.example.com
cache-control: no-cache</pre><a href="#appendix-C.3.2-2" class="pilcrow">¶</a>
</div>
<p id="appendix-C.3.2-3" class="keepWithNext">Hex dump of encoded data:<a href="#appendix-C.3.2-3" class="pilcrow">¶</a></p>
<div class="alignLeft art-example art-text artwork" id="appendix-C.3.2-4">
<pre>
8286 84be 5808 6e6f 2d63 6163 6865      | ....X.no-cache</pre><a href="#appendix-C.3.2-4" class="pilcrow">¶</a>
</div>
<p id="appendix-C.3.2-5" class="keepWithNext">Decoding process:<a href="#appendix-C.3.2-5" class="pilcrow">¶</a></p>
<div class="alignLeft art-example art-text artwork" id="appendix-C.3.2-6">
<pre>
82                                      | == Indexed - Add ==
                                        |   idx = 2
                                        | -&gt; :method: GET
86                                      | == Indexed - Add ==
                                        |   idx = 6
                                        | -&gt; :scheme: http
84                                      | == Indexed - Add ==
                                        |   idx = 4
                                        | -&gt; :path: /
be                                      | == Indexed - Add ==
                                        |   idx = 62
                                        | -&gt; :authority:
                                        |   www.example.com
58                                      | == Literal indexed ==
                                        |   Indexed name (idx = 24)
                                        |     cache-control
08                                      |   Literal value (len = 8)
6e6f 2d63 6163 6865                     | no-cache
                                        | -&gt; cache-control: no-cache</pre><a href="#appendix-C.3.2-6" class="pilcrow">¶</a>
</div>
<p id="appendix-C.3.2-7" class="keepWithNext">Dynamic Table (after decoding):<a href="#appendix-C.3.2-7" class="pilcrow">¶</a></p>
<div class="alignLeft art-example art-text artwork" id="appendix-C.3.2-8">
<pre>
[  1] (s =  53) cache-control: no-cache
[  2] (s =  57) :authority: www.example.com
      Table size: 110</pre><a href="#appendix-C.3.2-8" class="pilcrow">¶</a>
</div>
<p id="appendix-C.3.2-9" class="keepWithNext">Decoded header list:<a href="#appendix-C.3.2-9" class="pilcrow">¶</a></p>
<div class="alignLeft art-example art-text artwork" id="appendix-C.3.2-10">
<pre>
:method: GET
:scheme: http
:path: /
:authority: www.example.com
cache-control: no-cache</pre><a href="#appendix-C.3.2-10" class="pilcrow">¶</a>
</div>
</section>
<section id="appendix-C.3.3">
          <h4 id="name-third-request">
<a href="#appendix-C.3.3" class="section-number selfRef">C.3.3. </a><a href="#name-third-request" class="section-name selfRef">Third Request</a>
          </h4>
<p id="appendix-C.3.3-1" class="keepWithNext">Header list to encode:<a href="#appendix-C.3.3-1" class="pilcrow">¶</a></p>
<div class="alignLeft art-example art-text artwork" id="appendix-C.3.3-2">
<pre>
:method: GET
:scheme: https
:path: /index.html
:authority: www.example.com
custom-key: custom-value</pre><a href="#appendix-C.3.3-2" class="pilcrow">¶</a>
</div>
<p id="appendix-C.3.3-3" class="keepWithNext">Hex dump of encoded data:<a href="#appendix-C.3.3-3" class="pilcrow">¶</a></p>
<div class="alignLeft art-example art-text artwork" id="appendix-C.3.3-4">
<pre>
8287 85bf 400a 6375 7374 6f6d 2d6b 6579 | ....@.custom-key
0c63 7573 746f 6d2d 7661 6c75 65        | .custom-value</pre><a href="#appendix-C.3.3-4" class="pilcrow">¶</a>
</div>
<p id="appendix-C.3.3-5" class="keepWithNext">Decoding process:<a href="#appendix-C.3.3-5" class="pilcrow">¶</a></p>
<div class="alignLeft art-example art-text artwork" id="appendix-C.3.3-6">
<pre>
82                                      | == Indexed - Add ==
                                        |   idx = 2
                                        | -&gt; :method: GET
87                                      | == Indexed - Add ==
                                        |   idx = 7
                                        | -&gt; :scheme: https
85                                      | == Indexed - Add ==
                                        |   idx = 5
                                        | -&gt; :path: /index.html
bf                                      | == Indexed - Add ==
                                        |   idx = 63
                                        | -&gt; :authority:
                                        |   www.example.com
40                                      | == Literal indexed ==
0a                                      |   Literal name (len = 10)
6375 7374 6f6d 2d6b 6579                | custom-key
0c                                      |   Literal value (len = 12)
6375 7374 6f6d 2d76 616c 7565           | custom-value
                                        | -&gt; custom-key:
                                        |   custom-value</pre><a href="#appendix-C.3.3-6" class="pilcrow">¶</a>
</div>
<p id="appendix-C.3.3-7" class="keepWithNext">Dynamic Table (after decoding):<a href="#appendix-C.3.3-7" class="pilcrow">¶</a></p>
<div class="alignLeft art-example art-text artwork" id="appendix-C.3.3-8">
<pre>
[  1] (s =  54) custom-key: custom-value
[  2] (s =  53) cache-control: no-cache
[  3] (s =  57) :authority: www.example.com
      Table size: 164</pre><a href="#appendix-C.3.3-8" class="pilcrow">¶</a>
</div>
<p id="appendix-C.3.3-9" class="keepWithNext">Decoded header list:<a href="#appendix-C.3.3-9" class="pilcrow">¶</a></p>
<div class="alignLeft art-example art-text artwork" id="appendix-C.3.3-10">
<pre>
:method: GET
:scheme: https
:path: /index.html
:authority: www.example.com
custom-key: custom-value</pre><a href="#appendix-C.3.3-10" class="pilcrow">¶</a>
</div>
</section>
</section>
</div>
<div id="request.examples.with.huffman.coding">
<section id="appendix-C.4">
        <h3 id="name-request-examples-with-huffm">
<a href="#appendix-C.4" class="section-number selfRef">C.4. </a><a href="#name-request-examples-with-huffm" class="section-name selfRef">Request Examples with Huffman Coding</a>
        </h3>
<p id="appendix-C.4-1">
        This section shows the same examples as the previous section but uses
        Huffman encoding for the literal values.<a href="#appendix-C.4-1" class="pilcrow">¶</a></p>
<section id="appendix-C.4.1">
          <h4 id="name-first-request-2">
<a href="#appendix-C.4.1" class="section-number selfRef">C.4.1. </a><a href="#name-first-request-2" class="section-name selfRef">First Request</a>
          </h4>
<p id="appendix-C.4.1-1" class="keepWithNext">Header list to encode:<a href="#appendix-C.4.1-1" class="pilcrow">¶</a></p>
<div class="alignLeft art-example art-text artwork" id="appendix-C.4.1-2">
<pre>
:method: GET
:scheme: http
:path: /
:authority: www.example.com</pre><a href="#appendix-C.4.1-2" class="pilcrow">¶</a>
</div>
<p id="appendix-C.4.1-3" class="keepWithNext">Hex dump of encoded data:<a href="#appendix-C.4.1-3" class="pilcrow">¶</a></p>
<div class="alignLeft art-example art-text artwork" id="appendix-C.4.1-4">
<pre>
8286 8441 8cf1 e3c2 e5f2 3a6b a0ab 90f4 | ...A......:k....
ff                                      | .</pre><a href="#appendix-C.4.1-4" class="pilcrow">¶</a>
</div>
<p id="appendix-C.4.1-5" class="keepWithNext">Decoding process:<a href="#appendix-C.4.1-5" class="pilcrow">¶</a></p>
<div class="alignLeft art-example art-text artwork" id="appendix-C.4.1-6">
<pre>
82                                      | == Indexed - Add ==
                                        |   idx = 2
                                        | -&gt; :method: GET
86                                      | == Indexed - Add ==
                                        |   idx = 6
                                        | -&gt; :scheme: http
84                                      | == Indexed - Add ==
                                        |   idx = 4
                                        | -&gt; :path: /
41                                      | == Literal indexed ==
                                        |   Indexed name (idx = 1)
                                        |     :authority
8c                                      |   Literal value (len = 12)
                                        |     Huffman encoded:
f1e3 c2e5 f23a 6ba0 ab90 f4ff           | .....:k.....
                                        |     Decoded:
                                        | www.example.com
                                        | -&gt; :authority:
                                        |   www.example.com</pre><a href="#appendix-C.4.1-6" class="pilcrow">¶</a>
</div>
<p id="appendix-C.4.1-7" class="keepWithNext">Dynamic Table (after decoding):<a href="#appendix-C.4.1-7" class="pilcrow">¶</a></p>
<div class="alignLeft art-example art-text artwork" id="appendix-C.4.1-8">
<pre>
[  1] (s =  57) :authority: www.example.com
      Table size:  57</pre><a href="#appendix-C.4.1-8" class="pilcrow">¶</a>
</div>
<p id="appendix-C.4.1-9" class="keepWithNext">Decoded header list:<a href="#appendix-C.4.1-9" class="pilcrow">¶</a></p>
<div class="alignLeft art-example art-text artwork" id="appendix-C.4.1-10">
<pre>
:method: GET
:scheme: http
:path: /
:authority: www.example.com</pre><a href="#appendix-C.4.1-10" class="pilcrow">¶</a>
</div>
</section>
<section id="appendix-C.4.2">
          <h4 id="name-second-request-2">
<a href="#appendix-C.4.2" class="section-number selfRef">C.4.2. </a><a href="#name-second-request-2" class="section-name selfRef">Second Request</a>
          </h4>
<p id="appendix-C.4.2-1" class="keepWithNext">Header list to encode:<a href="#appendix-C.4.2-1" class="pilcrow">¶</a></p>
<div class="alignLeft art-example art-text artwork" id="appendix-C.4.2-2">
<pre>
:method: GET
:scheme: http
:path: /
:authority: www.example.com
cache-control: no-cache</pre><a href="#appendix-C.4.2-2" class="pilcrow">¶</a>
</div>
<p id="appendix-C.4.2-3" class="keepWithNext">Hex dump of encoded data:<a href="#appendix-C.4.2-3" class="pilcrow">¶</a></p>
<div class="alignLeft art-example art-text artwork" id="appendix-C.4.2-4">
<pre>
8286 84be 5886 a8eb 1064 9cbf           | ....X....d..</pre><a href="#appendix-C.4.2-4" class="pilcrow">¶</a>
</div>
<p id="appendix-C.4.2-5" class="keepWithNext">Decoding process:<a href="#appendix-C.4.2-5" class="pilcrow">¶</a></p>
<div class="alignLeft art-example art-text artwork" id="appendix-C.4.2-6">
<pre>
82                                      | == Indexed - Add ==
                                        |   idx = 2
                                        | -&gt; :method: GET
86                                      | == Indexed - Add ==
                                        |   idx = 6
                                        | -&gt; :scheme: http
84                                      | == Indexed - Add ==
                                        |   idx = 4
                                        | -&gt; :path: /
be                                      | == Indexed - Add ==
                                        |   idx = 62
                                        | -&gt; :authority:
                                        |   www.example.com
58                                      | == Literal indexed ==
                                        |   Indexed name (idx = 24)
                                        |     cache-control
86                                      |   Literal value (len = 6)
                                        |     Huffman encoded:
a8eb 1064 9cbf                          | ...d..
                                        |     Decoded:
                                        | no-cache
                                        | -&gt; cache-control: no-cache</pre><a href="#appendix-C.4.2-6" class="pilcrow">¶</a>
</div>
<p id="appendix-C.4.2-7" class="keepWithNext">Dynamic Table (after decoding):<a href="#appendix-C.4.2-7" class="pilcrow">¶</a></p>
<div class="alignLeft art-example art-text artwork" id="appendix-C.4.2-8">
<pre>
[  1] (s =  53) cache-control: no-cache
[  2] (s =  57) :authority: www.example.com
      Table size: 110</pre><a href="#appendix-C.4.2-8" class="pilcrow">¶</a>
</div>
<p id="appendix-C.4.2-9" class="keepWithNext">Decoded header list:<a href="#appendix-C.4.2-9" class="pilcrow">¶</a></p>
<div class="alignLeft art-example art-text artwork" id="appendix-C.4.2-10">
<pre>
:method: GET
:scheme: http
:path: /
:authority: www.example.com
cache-control: no-cache</pre><a href="#appendix-C.4.2-10" class="pilcrow">¶</a>
</div>
</section>
<section id="appendix-C.4.3">
          <h4 id="name-third-request-2">
<a href="#appendix-C.4.3" class="section-number selfRef">C.4.3. </a><a href="#name-third-request-2" class="section-name selfRef">Third Request</a>
          </h4>
<p id="appendix-C.4.3-1" class="keepWithNext">Header list to encode:<a href="#appendix-C.4.3-1" class="pilcrow">¶</a></p>
<div class="alignLeft art-example art-text artwork" id="appendix-C.4.3-2">
<pre>
:method: GET
:scheme: https
:path: /index.html
:authority: www.example.com
custom-key: custom-value</pre><a href="#appendix-C.4.3-2" class="pilcrow">¶</a>
</div>
<p id="appendix-C.4.3-3" class="keepWithNext">Hex dump of encoded data:<a href="#appendix-C.4.3-3" class="pilcrow">¶</a></p>
<div class="alignLeft art-example art-text artwork" id="appendix-C.4.3-4">
<pre>
8287 85bf 4088 25a8 49e9 5ba9 7d7f 8925 | ....@.%.I.[.}..%
a849 e95b b8e8 b4bf                     | .I.[....</pre><a href="#appendix-C.4.3-4" class="pilcrow">¶</a>
</div>
<p id="appendix-C.4.3-5" class="keepWithNext">Decoding process:<a href="#appendix-C.4.3-5" class="pilcrow">¶</a></p>
<div class="alignLeft art-example art-text artwork" id="appendix-C.4.3-6">
<pre>
82                                      | == Indexed - Add ==
                                        |   idx = 2
                                        | -&gt; :method: GET
87                                      | == Indexed - Add ==
                                        |   idx = 7
                                        | -&gt; :scheme: https
85                                      | == Indexed - Add ==
                                        |   idx = 5
                                        | -&gt; :path: /index.html
bf                                      | == Indexed - Add ==
                                        |   idx = 63
                                        | -&gt; :authority:
                                        |   www.example.com
40                                      | == Literal indexed ==
88                                      |   Literal name (len = 8)
                                        |     Huffman encoded:
25a8 49e9 5ba9 7d7f                     | %.I.[.}.
                                        |     Decoded:
                                        | custom-key
89                                      |   Literal value (len = 9)
                                        |     Huffman encoded:
25a8 49e9 5bb8 e8b4 bf                  | %.I.[....
                                        |     Decoded:
                                        | custom-value
                                        | -&gt; custom-key:
                                        |   custom-value</pre><a href="#appendix-C.4.3-6" class="pilcrow">¶</a>
</div>
<p id="appendix-C.4.3-7" class="keepWithNext">Dynamic Table (after decoding):<a href="#appendix-C.4.3-7" class="pilcrow">¶</a></p>
<div class="alignLeft art-example art-text artwork" id="appendix-C.4.3-8">
<pre>
[  1] (s =  54) custom-key: custom-value
[  2] (s =  53) cache-control: no-cache
[  3] (s =  57) :authority: www.example.com
      Table size: 164</pre><a href="#appendix-C.4.3-8" class="pilcrow">¶</a>
</div>
<p id="appendix-C.4.3-9" class="keepWithNext">Decoded header list:<a href="#appendix-C.4.3-9" class="pilcrow">¶</a></p>
<div class="alignLeft art-example art-text artwork" id="appendix-C.4.3-10">
<pre>
:method: GET
:scheme: https
:path: /index.html
:authority: www.example.com
custom-key: custom-value</pre><a href="#appendix-C.4.3-10" class="pilcrow">¶</a>
</div>
</section>
</section>
</div>
<div id="response.examples.without.huffman.coding">
<section id="appendix-C.5">
        <h3 id="name-response-examples-without-h">
<a href="#appendix-C.5" class="section-number selfRef">C.5. </a><a href="#name-response-examples-without-h" class="section-name selfRef">Response Examples without Huffman Coding</a>
        </h3>
<p id="appendix-C.5-1">
        This section shows several consecutive header lists, corresponding to
        HTTP responses, on the same connection. The HTTP/2 setting parameter
        SETTINGS_HEADER_TABLE_SIZE is set to the value of 256 octets, causing
        some evictions to occur.<a href="#appendix-C.5-1" class="pilcrow">¶</a></p>
<section id="appendix-C.5.1">
          <h4 id="name-first-response">
<a href="#appendix-C.5.1" class="section-number selfRef">C.5.1. </a><a href="#name-first-response" class="section-name selfRef">First Response</a>
          </h4>
<p id="appendix-C.5.1-1" class="keepWithNext">Header list to encode:<a href="#appendix-C.5.1-1" class="pilcrow">¶</a></p>
<div class="alignLeft art-example art-text artwork" id="appendix-C.5.1-2">
<pre>
:status: 302
cache-control: private
date: Mon, 21 Oct 2013 20:13:21 GMT
location: https://www.example.com</pre><a href="#appendix-C.5.1-2" class="pilcrow">¶</a>
</div>
<p id="appendix-C.5.1-3" class="keepWithNext">Hex dump of encoded data:<a href="#appendix-C.5.1-3" class="pilcrow">¶</a></p>
<div class="alignLeft art-example art-text artwork" id="appendix-C.5.1-4">
<pre>
4803 3330 3258 0770 7269 7661 7465 611d | H.302X.privatea.
4d6f 6e2c 2032 3120 4f63 7420 3230 3133 | Mon, 21 Oct 2013
2032 303a 3133 3a32 3120 474d 546e 1768 |  20:13:21 GMTn.h
7474 7073 3a2f 2f77 7777 2e65 7861 6d70 | ttps://www.examp
6c65 2e63 6f6d                          | le.com</pre><a href="#appendix-C.5.1-4" class="pilcrow">¶</a>
</div>
<p id="appendix-C.5.1-5" class="keepWithNext">Decoding process:<a href="#appendix-C.5.1-5" class="pilcrow">¶</a></p>
<div class="alignLeft art-example art-text artwork" id="appendix-C.5.1-6">
<pre>
48                                      | == Literal indexed ==
                                        |   Indexed name (idx = 8)
                                        |     :status
03                                      |   Literal value (len = 3)
3330 32                                 | 302
                                        | -&gt; :status: 302
58                                      | == Literal indexed ==
                                        |   Indexed name (idx = 24)
                                        |     cache-control
07                                      |   Literal value (len = 7)
7072 6976 6174 65                       | private
                                        | -&gt; cache-control: private
61                                      | == Literal indexed ==
                                        |   Indexed name (idx = 33)
                                        |     date
1d                                      |   Literal value (len = 29)
4d6f 6e2c 2032 3120 4f63 7420 3230 3133 | Mon, 21 Oct 2013
2032 303a 3133 3a32 3120 474d 54        |  20:13:21 GMT
                                        | -&gt; date: Mon, 21 Oct 2013
                                        |   20:13:21 GMT
6e                                      | == Literal indexed ==
                                        |   Indexed name (idx = 46)
                                        |     location
17                                      |   Literal value (len = 23)
6874 7470 733a 2f2f 7777 772e 6578 616d | https://www.exam
706c 652e 636f 6d                       | ple.com
                                        | -&gt; location:
                                        |   https://www.example.com</pre><a href="#appendix-C.5.1-6" class="pilcrow">¶</a>
</div>
<p id="appendix-C.5.1-7" class="keepWithNext">Dynamic Table (after decoding):<a href="#appendix-C.5.1-7" class="pilcrow">¶</a></p>
<div class="alignLeft art-example art-text artwork" id="appendix-C.5.1-8">
<pre>
[  1] (s =  63) location: https://www.example.com
[  2] (s =  65) date: Mon, 21 Oct 2013 20:13:21 GMT
[  3] (s =  52) cache-control: private
[  4] (s =  42) :status: 302
      Table size: 222</pre><a href="#appendix-C.5.1-8" class="pilcrow">¶</a>
</div>
<p id="appendix-C.5.1-9" class="keepWithNext">Decoded header list:<a href="#appendix-C.5.1-9" class="pilcrow">¶</a></p>
<div class="alignLeft art-example art-text artwork" id="appendix-C.5.1-10">
<pre>
:status: 302
cache-control: private
date: Mon, 21 Oct 2013 20:13:21 GMT
location: https://www.example.com</pre><a href="#appendix-C.5.1-10" class="pilcrow">¶</a>
</div>
</section>
<section id="appendix-C.5.2">
          <h4 id="name-second-response">
<a href="#appendix-C.5.2" class="section-number selfRef">C.5.2. </a><a href="#name-second-response" class="section-name selfRef">Second Response</a>
          </h4>
<p id="appendix-C.5.2-1">
            The (":status", "302") header field is evicted from the dynamic table
            to free space to allow adding the (":status", "307") header field.<a href="#appendix-C.5.2-1" class="pilcrow">¶</a></p>
<p id="appendix-C.5.2-2" class="keepWithNext">Header list to encode:<a href="#appendix-C.5.2-2" class="pilcrow">¶</a></p>
<div class="alignLeft art-example art-text artwork" id="appendix-C.5.2-3">
<pre>
:status: 307
cache-control: private
date: Mon, 21 Oct 2013 20:13:21 GMT
location: https://www.example.com</pre><a href="#appendix-C.5.2-3" class="pilcrow">¶</a>
</div>
<p id="appendix-C.5.2-4" class="keepWithNext">Hex dump of encoded data:<a href="#appendix-C.5.2-4" class="pilcrow">¶</a></p>
<div class="alignLeft art-example art-text artwork" id="appendix-C.5.2-5">
<pre>
4803 3330 37c1 c0bf                     | H.307...</pre><a href="#appendix-C.5.2-5" class="pilcrow">¶</a>
</div>
<p id="appendix-C.5.2-6" class="keepWithNext">Decoding process:<a href="#appendix-C.5.2-6" class="pilcrow">¶</a></p>
<div class="alignLeft art-example art-text artwork" id="appendix-C.5.2-7">
<pre>
48                                      | == Literal indexed ==
                                        |   Indexed name (idx = 8)
                                        |     :status
03                                      |   Literal value (len = 3)
3330 37                                 | 307
                                        | - evict: :status: 302
                                        | -&gt; :status: 307
c1                                      | == Indexed - Add ==
                                        |   idx = 65
                                        | -&gt; cache-control: private
c0                                      | == Indexed - Add ==
                                        |   idx = 64
                                        | -&gt; date: Mon, 21 Oct 2013
                                        |   20:13:21 GMT
bf                                      | == Indexed - Add ==
                                        |   idx = 63
                                        | -&gt; location:
                                        |   https://www.example.com</pre><a href="#appendix-C.5.2-7" class="pilcrow">¶</a>
</div>
<p id="appendix-C.5.2-8" class="keepWithNext">Dynamic Table (after decoding):<a href="#appendix-C.5.2-8" class="pilcrow">¶</a></p>
<div class="alignLeft art-example art-text artwork" id="appendix-C.5.2-9">
<pre>
[  1] (s =  42) :status: 307
[  2] (s =  63) location: https://www.example.com
[  3] (s =  65) date: Mon, 21 Oct 2013 20:13:21 GMT
[  4] (s =  52) cache-control: private
      Table size: 222</pre><a href="#appendix-C.5.2-9" class="pilcrow">¶</a>
</div>
<p id="appendix-C.5.2-10" class="keepWithNext">Decoded header list:<a href="#appendix-C.5.2-10" class="pilcrow">¶</a></p>
<div class="alignLeft art-example art-text artwork" id="appendix-C.5.2-11">
<pre>
:status: 307
cache-control: private
date: Mon, 21 Oct 2013 20:13:21 GMT
location: https://www.example.com</pre><a href="#appendix-C.5.2-11" class="pilcrow">¶</a>
</div>
</section>
<section id="appendix-C.5.3">
          <h4 id="name-third-response">
<a href="#appendix-C.5.3" class="section-number selfRef">C.5.3. </a><a href="#name-third-response" class="section-name selfRef">Third Response</a>
          </h4>
<p id="appendix-C.5.3-1">
            Several header fields are evicted from the dynamic table during the
            processing of this header list.<a href="#appendix-C.5.3-1" class="pilcrow">¶</a></p>
<p id="appendix-C.5.3-2" class="keepWithNext">Header list to encode:<a href="#appendix-C.5.3-2" class="pilcrow">¶</a></p>
<div class="alignLeft art-example art-text artwork" id="appendix-C.5.3-3">
<pre>
:status: 200
cache-control: private
date: Mon, 21 Oct 2013 20:13:22 GMT
location: https://www.example.com
content-encoding: gzip
set-cookie: foo=ASDJKHQKBZXOQWEOPIUAXQWEOIU; max-age=3600; version=1</pre><a href="#appendix-C.5.3-3" class="pilcrow">¶</a>
</div>
<p id="appendix-C.5.3-4" class="keepWithNext">Hex dump of encoded data:<a href="#appendix-C.5.3-4" class="pilcrow">¶</a></p>
<div class="alignLeft art-example art-text artwork" id="appendix-C.5.3-5">
<pre>
88c1 611d 4d6f 6e2c 2032 3120 4f63 7420 | ..a.Mon, 21 Oct
3230 3133 2032 303a 3133 3a32 3220 474d | 2013 20:13:22 GM
54c0 5a04 677a 6970 7738 666f 6f3d 4153 | T.Z.gzipw8foo=AS
444a 4b48 514b 425a 584f 5157 454f 5049 | DJKHQKBZXOQWEOPI
5541 5851 5745 4f49 553b 206d 6178 2d61 | UAXQWEOIU; max-a
6765 3d33 3630 303b 2076 6572 7369 6f6e | ge=3600; version
3d31                                    | =1</pre><a href="#appendix-C.5.3-5" class="pilcrow">¶</a>
</div>
<p id="appendix-C.5.3-6" class="keepWithNext">Decoding process:<a href="#appendix-C.5.3-6" class="pilcrow">¶</a></p>
<div class="alignLeft art-example art-text artwork" id="appendix-C.5.3-7">
<pre>
88                                      | == Indexed - Add ==
                                        |   idx = 8
                                        | -&gt; :status: 200
c1                                      | == Indexed - Add ==
                                        |   idx = 65
                                        | -&gt; cache-control: private
61                                      | == Literal indexed ==
                                        |   Indexed name (idx = 33)
                                        |     date
1d                                      |   Literal value (len = 29)
4d6f 6e2c 2032 3120 4f63 7420 3230 3133 | Mon, 21 Oct 2013
2032 303a 3133 3a32 3220 474d 54        |  20:13:22 GMT
                                        | - evict: cache-control:
                                        |   private
                                        | -&gt; date: Mon, 21 Oct 2013
                                        |   20:13:22 GMT
c0                                      | == Indexed - Add ==
                                        |   idx = 64
                                        | -&gt; location:
                                        |   https://www.example.com
5a                                      | == Literal indexed ==
                                        |   Indexed name (idx = 26)
                                        |     content-encoding
04                                      |   Literal value (len = 4)
677a 6970                               | gzip
                                        | - evict: date: Mon, 21 Oct
                                        |    2013 20:13:21 GMT
                                        | -&gt; content-encoding: gzip
77                                      | == Literal indexed ==
                                        |   Indexed name (idx = 55)
                                        |     set-cookie
38                                      |   Literal value (len = 56)
666f 6f3d 4153 444a 4b48 514b 425a 584f | foo=ASDJKHQKBZXO
5157 454f 5049 5541 5851 5745 4f49 553b | QWEOPIUAXQWEOIU;
206d 6178 2d61 6765 3d33 3630 303b 2076 |  max-age=3600; v
6572 7369 6f6e 3d31                     | ersion=1
                                        | - evict: location:
                                        |   https://www.example.com
                                        | - evict: :status: 307
                                        | -&gt; set-cookie: foo=ASDJKHQ
                                        |   KBZXOQWEOPIUAXQWEOIU; ma
                                        |   x-age=3600; version=1</pre><a href="#appendix-C.5.3-7" class="pilcrow">¶</a>
</div>
<p id="appendix-C.5.3-8" class="keepWithNext">Dynamic Table (after decoding):<a href="#appendix-C.5.3-8" class="pilcrow">¶</a></p>
<div class="alignLeft art-example art-text artwork" id="appendix-C.5.3-9">
<pre>
[  1] (s =  98) set-cookie: foo=ASDJKHQKBZXOQWEOPIUAXQWEOIU;
                 max-age=3600; version=1
[  2] (s =  52) content-encoding: gzip
[  3] (s =  65) date: Mon, 21 Oct 2013 20:13:22 GMT
      Table size: 215</pre><a href="#appendix-C.5.3-9" class="pilcrow">¶</a>
</div>
<p id="appendix-C.5.3-10" class="keepWithNext">Decoded header list:<a href="#appendix-C.5.3-10" class="pilcrow">¶</a></p>
<div class="alignLeft art-example art-text artwork" id="appendix-C.5.3-11">
<pre>
:status: 200
cache-control: private
date: Mon, 21 Oct 2013 20:13:22 GMT
location: https://www.example.com
content-encoding: gzip
set-cookie: foo=ASDJKHQKBZXOQWEOPIUAXQWEOIU; max-age=3600; version=1</pre><a href="#appendix-C.5.3-11" class="pilcrow">¶</a>
</div>
</section>
</section>
</div>
<div id="response.examples.with.huffman.coding">
<section id="appendix-C.6">
        <h3 id="name-response-examples-with-huff">
<a href="#appendix-C.6" class="section-number selfRef">C.6. </a><a href="#name-response-examples-with-huff" class="section-name selfRef">Response Examples with Huffman Coding</a>
        </h3>
<p id="appendix-C.6-1">
        This section shows the same examples as the previous section but uses
        Huffman encoding for the literal values. The HTTP/2 setting parameter
        SETTINGS_HEADER_TABLE_SIZE is set to the value of 256 octets, causing
        some evictions to occur. The eviction mechanism uses the length of the
        decoded literal values, so the same evictions occur as in the previous
        section.<a href="#appendix-C.6-1" class="pilcrow">¶</a></p>
<section id="appendix-C.6.1">
          <h4 id="name-first-response-2">
<a href="#appendix-C.6.1" class="section-number selfRef">C.6.1. </a><a href="#name-first-response-2" class="section-name selfRef">First Response</a>
          </h4>
<p id="appendix-C.6.1-1" class="keepWithNext">Header list to encode:<a href="#appendix-C.6.1-1" class="pilcrow">¶</a></p>
<div class="alignLeft art-example art-text artwork" id="appendix-C.6.1-2">
<pre>
:status: 302
cache-control: private
date: Mon, 21 Oct 2013 20:13:21 GMT
location: https://www.example.com</pre><a href="#appendix-C.6.1-2" class="pilcrow">¶</a>
</div>
<p id="appendix-C.6.1-3" class="keepWithNext">Hex dump of encoded data:<a href="#appendix-C.6.1-3" class="pilcrow">¶</a></p>
<div class="alignLeft art-example art-text artwork" id="appendix-C.6.1-4">
<pre>
4882 6402 5885 aec3 771a 4b61 96d0 7abe | H.d.X...w.Ka..z.
9410 54d4 44a8 2005 9504 0b81 66e0 82a6 | ..T.D. .....f...
2d1b ff6e 919d 29ad 1718 63c7 8f0b 97c8 | -..n..)...c.....
e9ae 82ae 43d3                          | ....C.</pre><a href="#appendix-C.6.1-4" class="pilcrow">¶</a>
</div>
<p id="appendix-C.6.1-5" class="keepWithNext">Decoding process:<a href="#appendix-C.6.1-5" class="pilcrow">¶</a></p>
<div class="alignLeft art-example art-text artwork" id="appendix-C.6.1-6">
<pre>
48                                      | == Literal indexed ==
                                        |   Indexed name (idx = 8)
                                        |     :status
82                                      |   Literal value (len = 2)
                                        |     Huffman encoded:
6402                                    | d.
                                        |     Decoded:
                                        | 302
                                        | -&gt; :status: 302
58                                      | == Literal indexed ==
                                        |   Indexed name (idx = 24)
                                        |     cache-control
85                                      |   Literal value (len = 5)
                                        |     Huffman encoded:
aec3 771a 4b                            | ..w.K
                                        |     Decoded:
                                        | private
                                        | -&gt; cache-control: private
61                                      | == Literal indexed ==
                                        |   Indexed name (idx = 33)
                                        |     date
96                                      |   Literal value (len = 22)
                                        |     Huffman encoded:
d07a be94 1054 d444 a820 0595 040b 8166 | .z...T.D. .....f
e082 a62d 1bff                          | ...-..
                                        |     Decoded:
                                        | Mon, 21 Oct 2013 20:13:21
                                        | GMT
                                        | -&gt; date: Mon, 21 Oct 2013
                                        |   20:13:21 GMT
6e                                      | == Literal indexed ==
                                        |   Indexed name (idx = 46)
                                        |     location
91                                      |   Literal value (len = 17)
                                        |     Huffman encoded:
9d29 ad17 1863 c78f 0b97 c8e9 ae82 ae43 | .)...c.........C
d3                                      | .
                                        |     Decoded:
                                        | https://www.example.com
                                        | -&gt; location:
                                        |   https://www.example.com</pre><a href="#appendix-C.6.1-6" class="pilcrow">¶</a>
</div>
<p id="appendix-C.6.1-7" class="keepWithNext">Dynamic Table (after decoding):<a href="#appendix-C.6.1-7" class="pilcrow">¶</a></p>
<div class="alignLeft art-example art-text artwork" id="appendix-C.6.1-8">
<pre>
[  1] (s =  63) location: https://www.example.com
[  2] (s =  65) date: Mon, 21 Oct 2013 20:13:21 GMT
[  3] (s =  52) cache-control: private
[  4] (s =  42) :status: 302
      Table size: 222</pre><a href="#appendix-C.6.1-8" class="pilcrow">¶</a>
</div>
<p id="appendix-C.6.1-9" class="keepWithNext">Decoded header list:<a href="#appendix-C.6.1-9" class="pilcrow">¶</a></p>
<div class="alignLeft art-example art-text artwork" id="appendix-C.6.1-10">
<pre>
:status: 302
cache-control: private
date: Mon, 21 Oct 2013 20:13:21 GMT
location: https://www.example.com</pre><a href="#appendix-C.6.1-10" class="pilcrow">¶</a>
</div>
</section>
<section id="appendix-C.6.2">
          <h4 id="name-second-response-2">
<a href="#appendix-C.6.2" class="section-number selfRef">C.6.2. </a><a href="#name-second-response-2" class="section-name selfRef">Second Response</a>
          </h4>
<p id="appendix-C.6.2-1">
            The (":status", "302") header field is evicted from the dynamic table
            to free space to allow adding the (":status", "307") header field.<a href="#appendix-C.6.2-1" class="pilcrow">¶</a></p>
<p id="appendix-C.6.2-2" class="keepWithNext">Header list to encode:<a href="#appendix-C.6.2-2" class="pilcrow">¶</a></p>
<div class="alignLeft art-example art-text artwork" id="appendix-C.6.2-3">
<pre>
:status: 307
cache-control: private
date: Mon, 21 Oct 2013 20:13:21 GMT
location: https://www.example.com</pre><a href="#appendix-C.6.2-3" class="pilcrow">¶</a>
</div>
<p id="appendix-C.6.2-4" class="keepWithNext">Hex dump of encoded data:<a href="#appendix-C.6.2-4" class="pilcrow">¶</a></p>
<div class="alignLeft art-example art-text artwork" id="appendix-C.6.2-5">
<pre>
4883 640e ffc1 c0bf                     | H.d.....</pre><a href="#appendix-C.6.2-5" class="pilcrow">¶</a>
</div>
<p id="appendix-C.6.2-6" class="keepWithNext">Decoding process:<a href="#appendix-C.6.2-6" class="pilcrow">¶</a></p>
<div class="alignLeft art-example art-text artwork" id="appendix-C.6.2-7">
<pre>
48                                      | == Literal indexed ==
                                        |   Indexed name (idx = 8)
                                        |     :status
83                                      |   Literal value (len = 3)
                                        |     Huffman encoded:
640e ff                                 | d..
                                        |     Decoded:
                                        | 307
                                        | - evict: :status: 302
                                        | -&gt; :status: 307
c1                                      | == Indexed - Add ==
                                        |   idx = 65
                                        | -&gt; cache-control: private
c0                                      | == Indexed - Add ==
                                        |   idx = 64
                                        | -&gt; date: Mon, 21 Oct 2013
                                        |   20:13:21 GMT
bf                                      | == Indexed - Add ==
                                        |   idx = 63
                                        | -&gt; location:
                                        |   https://www.example.com</pre><a href="#appendix-C.6.2-7" class="pilcrow">¶</a>
</div>
<p id="appendix-C.6.2-8" class="keepWithNext">Dynamic Table (after decoding):<a href="#appendix-C.6.2-8" class="pilcrow">¶</a></p>
<div class="alignLeft art-example art-text artwork" id="appendix-C.6.2-9">
<pre>
[  1] (s =  42) :status: 307
[  2] (s =  63) location: https://www.example.com
[  3] (s =  65) date: Mon, 21 Oct 2013 20:13:21 GMT
[  4] (s =  52) cache-control: private
      Table size: 222</pre><a href="#appendix-C.6.2-9" class="pilcrow">¶</a>
</div>
<p id="appendix-C.6.2-10" class="keepWithNext">Decoded header list:<a href="#appendix-C.6.2-10" class="pilcrow">¶</a></p>
<div class="alignLeft art-example art-text artwork" id="appendix-C.6.2-11">
<pre>
:status: 307
cache-control: private
date: Mon, 21 Oct 2013 20:13:21 GMT
location: https://www.example.com</pre><a href="#appendix-C.6.2-11" class="pilcrow">¶</a>
</div>
</section>
<section id="appendix-C.6.3">
          <h4 id="name-third-response-2">
<a href="#appendix-C.6.3" class="section-number selfRef">C.6.3. </a><a href="#name-third-response-2" class="section-name selfRef">Third Response</a>
          </h4>
<p id="appendix-C.6.3-1">
            Several header fields are evicted from the dynamic table during the
            processing of this header list.<a href="#appendix-C.6.3-1" class="pilcrow">¶</a></p>
<p id="appendix-C.6.3-2" class="keepWithNext">Header list to encode:<a href="#appendix-C.6.3-2" class="pilcrow">¶</a></p>
<div class="alignLeft art-example art-text artwork" id="appendix-C.6.3-3">
<pre>
:status: 200
cache-control: private
date: Mon, 21 Oct 2013 20:13:22 GMT
location: https://www.example.com
content-encoding: gzip
set-cookie: foo=ASDJKHQKBZXOQWEOPIUAXQWEOIU; max-age=3600; version=1</pre><a href="#appendix-C.6.3-3" class="pilcrow">¶</a>
</div>
<p id="appendix-C.6.3-4" class="keepWithNext">Hex dump of encoded data:<a href="#appendix-C.6.3-4" class="pilcrow">¶</a></p>
<div class="alignLeft art-example art-text artwork" id="appendix-C.6.3-5">
<pre>
88c1 6196 d07a be94 1054 d444 a820 0595 | ..a..z...T.D. ..
040b 8166 e084 a62d 1bff c05a 839b d9ab | ...f...-...Z....
77ad 94e7 821d d7f2 e6c7 b335 dfdf cd5b | w..........5...[
3960 d5af 2708 7f36 72c1 ab27 0fb5 291f | 9`..'..6r..'..).
9587 3160 65c0 03ed 4ee5 b106 3d50 07   | ..1`e...N...=P.</pre><a href="#appendix-C.6.3-5" class="pilcrow">¶</a>
</div>
<p id="appendix-C.6.3-6" class="keepWithNext">Decoding process:<a href="#appendix-C.6.3-6" class="pilcrow">¶</a></p>
<div class="alignLeft art-example art-text artwork" id="appendix-C.6.3-7">
<pre>
88                                      | == Indexed - Add ==
                                        |   idx = 8
                                        | -&gt; :status: 200
c1                                      | == Indexed - Add ==
                                        |   idx = 65
                                        | -&gt; cache-control: private
61                                      | == Literal indexed ==
                                        |   Indexed name (idx = 33)
                                        |     date
96                                      |   Literal value (len = 22)
                                        |     Huffman encoded:
d07a be94 1054 d444 a820 0595 040b 8166 | .z...T.D. .....f
e084 a62d 1bff                          | ...-..
                                        |     Decoded:
                                        | Mon, 21 Oct 2013 20:13:22
                                        | GMT
                                        | - evict: cache-control:
                                        |   private
                                        | -&gt; date: Mon, 21 Oct 2013
                                        |   20:13:22 GMT
c0                                      | == Indexed - Add ==
                                        |   idx = 64
                                        | -&gt; location:
                                        |   https://www.example.com
5a                                      | == Literal indexed ==
                                        |   Indexed name (idx = 26)
                                        |     content-encoding
83                                      |   Literal value (len = 3)
                                        |     Huffman encoded:
9bd9 ab                                 | ...
                                        |     Decoded:
                                        | gzip
                                        | - evict: date: Mon, 21 Oct
                                        |    2013 20:13:21 GMT
                                        | -&gt; content-encoding: gzip
77                                      | == Literal indexed ==
                                        |   Indexed name (idx = 55)
                                        |     set-cookie
ad                                      |   Literal value (len = 45)
                                        |     Huffman encoded:
94e7 821d d7f2 e6c7 b335 dfdf cd5b 3960 | .........5...[9`
d5af 2708 7f36 72c1 ab27 0fb5 291f 9587 | ..'..6r..'..)...
3160 65c0 03ed 4ee5 b106 3d50 07        | 1`e...N...=P.
                                        |     Decoded:
                                        | foo=ASDJKHQKBZXOQWEOPIUAXQ
                                        | WEOIU; max-age=3600; versi
                                        | on=1
                                        | - evict: location:
                                        |   https://www.example.com
                                        | - evict: :status: 307
                                        | -&gt; set-cookie: foo=ASDJKHQ
                                        |   KBZXOQWEOPIUAXQWEOIU; ma
                                        |   x-age=3600; version=1</pre><a href="#appendix-C.6.3-7" class="pilcrow">¶</a>
</div>
<p id="appendix-C.6.3-8" class="keepWithNext">Dynamic Table (after decoding):<a href="#appendix-C.6.3-8" class="pilcrow">¶</a></p>
<div class="alignLeft art-example art-text artwork" id="appendix-C.6.3-9">
<pre>
[  1] (s =  98) set-cookie: foo=ASDJKHQKBZXOQWEOPIUAXQWEOIU;
                 max-age=3600; version=1
[  2] (s =  52) content-encoding: gzip
[  3] (s =  65) date: Mon, 21 Oct 2013 20:13:22 GMT
      Table size: 215</pre><a href="#appendix-C.6.3-9" class="pilcrow">¶</a>
</div>
<p id="appendix-C.6.3-10" class="keepWithNext">Decoded header list:<a href="#appendix-C.6.3-10" class="pilcrow">¶</a></p>
<div class="alignLeft art-example art-text artwork" id="appendix-C.6.3-11">
<pre>
:status: 200
cache-control: private
date: Mon, 21 Oct 2013 20:13:22 GMT
location: https://www.example.com
content-encoding: gzip
set-cookie: foo=ASDJKHQKBZXOQWEOPIUAXQWEOIU; max-age=3600; version=1</pre><a href="#appendix-C.6.3-11" class="pilcrow">¶</a>
</div>
</section>
</section>
</div>
</section>
</div>
<section id="appendix-D">
      <h2 id="name-acknowledgments">
<a href="#name-acknowledgments" class="section-name selfRef">Acknowledgments</a>
      </h2>
<p id="appendix-D-1">
                This specification includes substantial input from the following
                individuals:<a href="#appendix-D-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="appendix-D-2.1">
                        Mike Bishop, Jeff Pinner, Julian Reschke, and Martin Thomson
                        (substantial editorial contributions).<a href="#appendix-D-2.1" class="pilcrow">¶</a>
</li>
        <li class="normal" id="appendix-D-2.2">
                        Johnny Graettinger (Huffman code statistics).<a href="#appendix-D-2.2" class="pilcrow">¶</a>
</li>
      </ul>
</section>
<div id="authors-addresses">
<section id="appendix-E">
      <h2 id="name-authors-addresses">
<a href="#name-authors-addresses" class="section-name selfRef">Authors' Addresses</a>
      </h2>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Roberto Peon</span></div>
<div dir="auto" class="left"><span class="org">Google, Inc</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:fenix@google.com" class="email">fenix@google.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Hervé Ruellan</span></div>
<div dir="auto" class="left"><span class="org">Canon CRF</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:herve.ruellan@crf.canon.fr" class="email">herve.ruellan@crf.canon.fr</a>
</div>
</address>
</section>
</div>
<script>const toc = document.getElementById("toc");
toc.querySelector("h2").addEventListener("click", e => {
  toc.classList.toggle("active");
});
toc.querySelector("nav").addEventListener("click", e => {
  toc.classList.remove("active");
});
</script>
</body>
</html>
